## ã€ŒåŠ›æ‰£ã€ç¬¬ 518 é¢˜ï¼šé›¶é’±å…‘æ¢ IIï¼ˆä¸­ç­‰ï¼‰

> 1ã€å€Ÿè¿™ä¸ªé¢˜å­¦ä¹ ä¸€ä¸‹ã€Œå®Œå…¨èƒŒåŒ…ã€é—®é¢˜ï¼›
>
> 2ã€éœ€è¦æ¸…æ¥šçš„ä¸€ç‚¹æ˜¯ï¼šå½“å‰è¡Œå‚è€ƒçš„æ˜¯å½“å‰è¡Œå·¦è¾¹çš„å€¼ã€‚

- [é“¾æ¥](https://leetcode-cn.com/problems/coin-change-2/)
- [é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/coin-change-2/solution/dong-tai-gui-hua-wan-quan-bei-bao-wen-ti-by-liweiw/)

> ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸å’Œä¸€ä¸ªæ€»é‡‘é¢ã€‚å†™å‡ºå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: amount = 5, coins = [1, 2, 5]
> è¾“å‡º: 4
> è§£é‡Š: æœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢:
> 5 = 5
> 5 = 2 + 2 + 1
> 5 = 2 + 1 + 1 + 1
> 5 = 1 + 1 + 1 + 1 + 1
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: amount = 3, coins = [2]
> è¾“å‡º: 0
> è§£é‡Š: åªç”¨é¢é¢2çš„ç¡¬å¸ä¸èƒ½å‡‘æˆæ€»é‡‘é¢3ã€‚
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥: amount = 10, coins = [10] 
> è¾“å‡º: 1
> ```
>
> **æ³¨æ„**ï¼š
>
> ä½ å¯ä»¥å‡è®¾ï¼š
>
> - 0 <= amount æ€»é‡‘é¢æ€»é‡‘é¢ <= 5000
> - 1 <= coin ç¡¬å¸é¢é¢ç¡¬å¸é¢é¢ <= 5000
> - ç¡¬å¸ç§ç±»ä¸è¶…è¿‡ 500 ç§
> - ç»“æœç¬¦åˆ 32 ä½ç¬¦å·æ•´æ•°

è¿™é“é¢˜ï¼Œç¬¬ä¸€çœ¼çœ‹è¿‡å»å’Œã€ŒåŠ›æ‰£ã€ ç¬¬ 377 é¢˜ï¼š[â€œç»„åˆæ€»å’Œ â…£â€](https://leetcode-cn.com/problems/combination-sum-iv/) å¾ˆåƒï¼Œä¸è¿‡ä»”ç»†åˆ†æç¤ºä¾‹å°±å¯ä»¥çœ‹å‡ºåŒºåˆ«ï¼š

- ã€ŒåŠ›æ‰£ã€ ç¬¬ 377 é¢˜ï¼šä¸€ä¸ªç»„åˆçš„ä¸åŒæ’åˆ—æ˜¯ä¸€ä¸ªæ–°çš„ç»„åˆã€‚`(1, 1, 2)`ã€`(1, 2, 2)`ã€`(2, 1, 2)` è§†ä¸ºä¸ºä¸åŒçš„ç»„åˆã€‚
- ã€ŒåŠ›æ‰£ã€ ç¬¬ 518 é¢˜ï¼šä¸€ä¸ªç»„åˆçš„ä¸åŒæ’åˆ—åœ¨ç»“æœé›†ä¸­åªå‡ºç°ä¸€æ¬¡ã€‚`(2, 2, 1)` æ˜¯ä¸€ä¸ªç»„åˆï¼Œ`(1, 2, 2)` å’Œ `(2, 1, 2)` ä¸æ˜¯æ–°çš„ç»„åˆã€‚è¿™å…¶å®æ˜¯ã€ŒåŠ›æ‰£ã€ç¬¬ 39 é¢˜ï¼š[â€œç»„åˆæ€»å’Œâ€](https://leetcode-cn.com/problems/combination-sum/)ï¼Œäºæ˜¯å¯ä»¥å°è¯•ä½¿ç”¨å›æº¯æœç´¢çš„å†™æ³•è®¡ç®—å‡ºæ‰€æœ‰çš„ç»„åˆæ•°ï¼Œå‚è€ƒä»£ç åœ¨é™„å½•ã€‚

> é‡ç‚¹æç¤ºï¼š
>
> æ˜¯å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸»è¦çœ‹ä¸‹é¢ä¸¤ä¸ªç‰¹å¾ï¼š
>
> 1ã€æ¯ä¸ªç‰©å“çš„æ•°é‡æ— é™åˆ¶ï¼›
>
> 2ã€ä¸è®¡ç®—é¡ºåºï¼Œå³ `(1, 2, 2)` å’Œ `(2, 1, 2)` è¡¨ç¤ºåŒä¸€ä¸ªç»„åˆï¼Œè¿™å°±æ˜¯ã€ŒèƒŒåŒ…é—®é¢˜ã€èƒŒæ™¯çš„æè¿°ã€‚

é—®çš„éƒ½æ˜¯è§£æ³•æœ‰å¤šå°‘ç§ï¼Œè€Œä¸æ˜¯é—®å…·ä½“çš„è§£ã€‚å› æ­¤å¯ä»¥è€ƒè™‘ä½¿ç”¨ã€ŒåŠ¨æ€è§„åˆ’ã€ã€‚

æ€è·¯ä¾ç„¶æ˜¯ï¼šä¸€ä¸ªä¸€ä¸ªç‰©å“è€ƒè™‘ï¼Œå®¹é‡ä¸€ç‚¹ä¸€ç‚¹æ‰©å¤§ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªå°è¯•å’Œæ¯”è¾ƒçš„è¿‡ç¨‹ã€‚

### æ–¹æ³•ï¼šåŠ¨æ€è§„åˆ’

#### ç¬¬ 1 æ­¥ï¼šå®šä¹‰çŠ¶æ€

`dp[i][j]`ï¼šç¡¬å¸åˆ—è¡¨çš„å‰ç¼€å­åŒºé—´ `[0, i]` èƒ½å¤Ÿå‡‘æˆæ€»é‡‘é¢ `j` çš„ç»„åˆæ•°ï¼›

è¯´æ˜ï¼šèƒŒåŒ…é—®é¢˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œé¡ºåºæ— å…³ï¼Œåœ¨æœ€å¼€å§‹ï¼Œæˆ‘ä»¬å¼ºè°ƒè¿‡è¿™é“é—®é¢˜çš„è¿™ä¸ªæ€§è´¨ï¼Œå› æ­¤å¯ä»¥ä¸€ä¸ªä¸€ä¸ªç¡¬å¸å»çœ‹ã€‚

#### ç¬¬ 2 æ­¥ï¼šæ€è€ƒçŠ¶æ€è½¬ç§»æ–¹ç¨‹

å¯¹äºéå†åˆ°çš„æ¯ä¸€ç§é¢å€¼çš„ç¡¬å¸ï¼Œé€ä¸ªè€ƒè™‘æ·»åŠ åˆ° â€œæ€»é‡‘é¢â€ ä¸­ã€‚ç”±äºç¡¬å¸çš„ä¸ªæ•°å¯ä»¥æ— é™é€‰å–ï¼Œå› æ­¤å¯¹äºä¸€ç§æ–°çš„é¢å€¼çš„ç¡¬å¸ `coins[i - 1]`ï¼ˆæ³¨æ„è¿™é‡Œæœ‰ä¸€ä¸ªä½ç§»åå·®ï¼‰ï¼Œä¾æ¬¡è€ƒè™‘é€‰å– 0 æšã€1 æšã€2 æšï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°é€‰å–è¿™ç§é¢å€¼çš„ç¡¬å¸çš„æ€»é‡‘é¢è¶…è¿‡éœ€è¦çš„æ€»é‡‘é¢ `j`ï¼Œ`dp[i][j]` æ˜¯å®ƒä»¬çš„å€¼çš„å’Œã€‚

çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯ï¼š

java

```java
dp[i][j] = dp[i - 1][j - 0 * coins[i]] + 
           dp[i - 1][j - 1 * coins[i]] +
           dp[i - 1][j - 2 * coins[i]] + 
           ... + 
           dp[i - 1][j - k * coins[i]]
```

è¿™é‡ŒçŠ¶æ€è½¬ç§»è¦æˆç«‹ï¼Œéœ€è¦æ»¡è¶³ï¼š`j - k * coins[i] >= 0`ã€‚`dp[i][j]` ç›¸å¯¹äº `dp[i - 1][j]` è€Œè¨€ï¼Œå¤šè€ƒè™‘çš„ä¸€æšç¡¬å¸ï¼Œæ˜¯â€œæ­£åœ¨è€ƒè™‘çš„é‚£æšç¡¬å¸çš„é¢å€¼â€ï¼Œ`coins[i]`ï¼Œè€Œè¿™æšç¡¬å¸é€‰å–çš„ä¸ªæ•°ï¼ˆä» 00 å¼€å§‹ï¼‰å°±æ˜¯ `dp[i][j]` è¿™ä¸ªé—®é¢˜å¯ä»¥åˆ†è§£çš„å„ä¸ªå­é—®é¢˜çš„åˆ†ç±»æ ‡å‡†ã€‚

**äº‹å®ä¸Šï¼Œè¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹æœ‰ä¼˜åŒ–çš„ç©ºé—´ï¼Œå› ä¸ºåšäº†å¾ˆå¤šé‡å¤çš„å·¥ä½œï¼Œè¯»è€…å¯ä»¥è¯•ç€è‡ªå·±ä¼˜åŒ–ä¸€ä¸‹çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚**

### ç¬¬ 3 æ­¥ï¼šæ€è€ƒåˆå§‹åŒ–

`dp[0][0]` çš„å€¼åº”è¯¥è®¾ç½®ä¸º 1ï¼Œå®ƒè™½ç„¶æ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªè¢«å‚è€ƒçš„å€¼ï¼ŒåŸå› æ˜¯ï¼šå½“ `dp[i - 1][j - k * coins[i]]` çš„ç¬¬ 2 ä¸ªåæ ‡ `j - k * coins[i] == 0` æˆç«‹çš„æ—¶å€™ï¼Œ`k` ä¸ªç¡¬å¸ `coin[i]` å°±æ°å¥½æˆä¸ºäº†ä¸€ç§ç»„åˆï¼Œå› æ­¤ï¼Œ`dp[0][0] = 1`ã€‚

å¡«å†™ç¬¬ 1 è¡Œï¼Œä¹Ÿæ˜¯åˆå§‹åŒ–çš„æ—¶å€™éœ€è¦è€ƒè™‘çš„å†…å®¹ï¼Œç¬¬ 1 è¡Œå³è€ƒè™‘ç¬¬ 1 ä¸ªæ•°ï¼Œèƒ½å¤Ÿç»„åˆå‡ºçš„å®¹é‡å°±åªæœ‰ `coins[0]` çš„æ•´æ•°å€æ•°ã€‚

> **äº‹å®ä¸Šï¼Œå¯ä»¥è€ƒè™‘å¤šè®¾ç½®ä¸€è¡Œï¼ŒæŠŠç¬¬ 1 è¡Œé™¤äº† `dp[0][0]` å…¨éƒ¨è®¾ç½®ä¸º `0`ï¼Œè¿™æ ·å¯ä»¥é¿å…è¿™ç§å¤æ‚çš„åˆå§‹åŒ–è®¨è®ºï¼Œè¿™ä¸€æ­¥ç•™ç»™è¯»è€…å®Œæˆã€‚**

#### ç¬¬ 4 æ­¥ï¼šæ€è€ƒè¾“å‡º

è¾“å‡ºå°±æ˜¯è¡¨æ ¼çš„æœ€åä¸€æ ¼çš„æ•°å€¼ï¼Œå³ `dp[len - 1][amount]`ã€‚

#### ç¬¬ 5 æ­¥ï¼šè€ƒè™‘çŠ¶æ€å‹ç¼©

å½“å‰çŠ¶æ€è¡Œçš„å€¼ï¼Œåªå’Œä¸Šä¸€è¡Œçš„çŠ¶æ€å€¼ç›¸å…³ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘çŠ¶æ€å‹ç¼©ï¼Œä½¿ç”¨æ»šåŠ¨æ•°ç»„æŠ€å·§å³å¯ï¼Œè¿™é‡Œæš‚ä¸å±•ç¤ºä»£ç ã€‚

**å‚è€ƒä»£ç  1**ï¼š

Java ä»£ç ï¼š

Java

```Java
public class Solution {

    public int change(int amount, int[] coins) {
        int len = coins.length;
        if (len == 0) {
            if (amount == 0) {
                return 1;
            }
            return 0;
        }

        int[][] dp = new int[len][amount + 1];
        // è¿™ä¸ªå€¼è¯­ä¹‰ä¸æ­£ç¡®ï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªè¢«å…¶å®ƒçŠ¶æ€å‚è€ƒçš„å€¼ï¼Œè¿™æ ·è®¾ç½®æ˜¯æ­£ç¡®çš„
        dp[0][0] = 1;

        // å¡«ç¬¬ 1 è¡Œ
        for (int i = coins[0]; i <= amount; i += coins[0]) {
            dp[0][i] = 1;
        }

        for (int i = 1; i < len; i++) {
            for (int j = 0; j <= amount; j++) {
                for (int k = 0; j - k * coins[i] >= 0; k++) {
                    dp[i][j] += dp[i - 1][j - k * coins[i]];
                }
            }
        }
        return dp[len - 1][amount];
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘ğ‘€2)O(NM2)ï¼Œè¿™é‡Œé‡‘é¢ä¸º ğ‘€Mï¼Œç¡¬å¸æ•°ä¸º ğ‘Nã€‚ç¬¬ 1 å±‚å¾ªç¯ä¸ç¡¬å¸æ€»æ•°åŒè§„æ¨¡ï¼Œç¬¬ 2 å±‚å¾ªç¯ä¸è¦æ±‚çš„æ€»é‡‘é¢åŒè§„æ¨¡ï¼Œç¬¬ 3 å±‚å¾ªç¯åœ¨â€œæœ€åæƒ…å†µä¸‹â€ï¼Œç¡¬å¸çš„é¢å€¼ä¸º 11 æ—¶ï¼Œä¸è¦æ±‚çš„æ€»é‡‘é¢åŒè§„æ¨¡ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘ğ‘€)O(NM)ï¼Œè¡¨æ ¼æœ‰ ğ‘N è¡Œï¼Œğ‘€M åˆ—ã€‚

### æ–¹æ³•äºŒï¼šä¼˜åŒ–çŠ¶æ€è½¬ç§»æ–¹ç¨‹

æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹å…¶å®å¯ä»¥å¾—åˆ°é€’æ¨å…¬å¼ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„è¡¨è¾¾å½¢å¼çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªæ— ç©·çº§æ•°ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¾—åˆ°ä¸€ä¸ªé€’æ¨å…¬å¼ï¼š

java

```java
dp[i][j] = dp[i - 1][j - 0 * coins[i - 1]] + 
           dp[i - 1][j - 1 * coins[i - 1]] +
           dp[i - 1][j - 2 * coins[i - 1]] + 
           ... + 
           dp[i - 1][j - k * coins[i - 1]]
```

è¿™é‡Œ `j - k * coins[i] >= 0`ã€‚æˆ‘ä»¬å°†è¿™ä¸ªç­‰å¼è®°ä¸ºâ€œç­‰å¼ï¼ˆ1ï¼‰ã€‚

**å°† `j` ç”¨ `coins[i]` æ›¿æ¢**ï¼Œå¾—ï¼š

java

```java
dp[i][j - coins[i]] = dp[i - 1][j - coins[i] - 0 * coins[i]] + 
                      dp[i - 1][j - coins[i] - 1 * coins[i]] +
                      dp[i - 1][j - coins[i] - 2 * coins[i]] + 
                      ... + 
                      dp[i - 1][j - coins[i] - k * coins[i]]
```

è¿™é‡Œ `j - coins[i] - k * coins[i] >= 0`ã€‚

æ•´ç†ä¸€ä¸‹ï¼š

java

```java
dp[i][j - coins[i]] = dp[i - 1][j - 1 * coins[i]] + 
                      dp[i - 1][j - 2 * coins[i]] +
                      dp[i - 1][j - 3 * coins[i]] + 
                      ... + 
                      dp[i - 1][j - k * coins[i]]
```

è¿™é‡Œ `j - k * coins[i] >= 0`ã€‚æˆ‘ä»¬å°†è¿™ä¸ªç­‰å¼è®°ä¸ºâ€œç­‰å¼ï¼ˆ2ï¼‰â€ã€‚

å°† `ç­‰å¼ï¼ˆ1ï¼‰- ç­‰å¼ï¼ˆ2ï¼‰`ï¼Œå¾—ï¼š

```[-Java]
dp[i][j] - dp[i][j - coins[i]] = dp[i - 1][j]
```

æ•´ç†å¾—ï¼š

```[-Java]
dp[i][j] = dp[i - 1][j] + dp[i][j - coins[i]]
```

æ‰€ä»¥å…¶å®æ¯ä¸€è¡Œå•å…ƒçš„å€¼çš„å¡«å†™**æˆ‘ä»¬åªè¦çœ‹å®ƒçš„å·¦è¾¹å°±å¥½äº†**ï¼Œå¦‚æœæ²¡æœ‰å·¦è¾¹ï¼Œå®ƒè‡³å°‘æ˜¯ä¸Šä¸€è¡Œå•å…ƒæ ¼çš„å€¼ã€‚

> è¯·è¯»è€…æ¯”è¾ƒè¿™é‡ŒçŠ¶æ€å‹ç¼©å’Œ 0-1 èƒŒåŒ…é—®é¢˜çš„ä¸åŒä¹‹å¤„ã€‚

**å‚è€ƒä»£ç  2**ï¼š

Java ä»£ç ï¼š

Java

```Java
public class Solution {

    public int change(int amount, int[] coins) {
        int len = coins.length;
        if (len == 0) {
            if (amount == 0) {
                return 1;
            }
            return 0;
        }

        int[][] dp = new int[len][amount + 1];
        dp[0][0] = 1;

        for (int i = coins[0]; i <= amount; i += coins[0]) {
            dp[0][i] = 1;
        }

        for (int i = 1; i < len; i++) {
            for (int j = 0; j <= amount; j++) {
                dp[i][j] = dp[i - 1][j];
                if (j - coins[i] >= 0) {
                    dp[i][j] += dp[i][j - coins[i]];
                }
            }
        }
        return dp[len - 1][amount];
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘ğ‘€)O(NM)ï¼Œè¿™é‡Œé‡‘é¢ä¸º ğ‘€Mï¼Œç¡¬å¸æ•°ä¸º ğ‘Nã€‚ä¸å‚è€ƒä»£ç  1 ç›¸æ¯”ç¼©å‡äº†æœ€å†…å±‚çš„å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦é™ä½äº†ä¸€çº§ï¼›
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘ğ‘€)O(NM)ï¼Œè¡¨æ ¼æœ‰ ğ‘N è¡Œï¼Œğ‘€M åˆ—ã€‚

#### ç¬¬ 5 æ­¥ï¼šè€ƒè™‘çŠ¶æ€å‹ç¼©

è¿™ä¸ªæ–¹æ³•åªæ˜¯ä¼˜åŒ–äº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ç›´æ¥è·³åˆ°ç¬¬ 5 æ­¥ï¼Œè€ƒè™‘çŠ¶æ€å‹ç¼©ã€‚

**å‚è€ƒä»£ç  3**ï¼š

Java

```Java
class Solution {

    public int change(int amount, int[] coins) {
        int len = coins.length;
        if (len == 0) {
            if (amount == 0) {
                return 1;
            }
            return 0;
        }

        int[] dp = new int[amount + 1];
        dp[0] = 1;

        for (int i = coins[0]; i <= amount; i += coins[0]) {
            dp[i] = 1;
        }

        for (int i = 1; i < len; i++) {

            // ä» coins[i] å¼€å§‹å³å¯
            for (int j = coins[i] ; j <= amount; j++) {
                dp[j] += dp[j - coins[i]];
            }
        }
        return dp[amount];
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘ğ‘€)O(NM)ï¼Œè¿™é‡Œé‡‘é¢ä¸º ğ‘€Mï¼Œç¡¬å¸æ•°ä¸º ğ‘Nï¼›
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘€)O(M)ï¼Œè¡¨æ ¼åªæœ‰ 11 è¡Œï¼Œğ‘€M åˆ—ã€‚