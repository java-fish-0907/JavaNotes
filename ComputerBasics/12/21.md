## ã€ŒåŠ›æ‰£ã€ç¬¬ 230 é¢˜ï¼šäºŒå‰æœç´¢æ ‘ä¸­ç¬¬ K å°çš„å…ƒç´ 

- ä¸­æ–‡ç½‘å€ï¼š[230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ ](https://leetcode-cn.com/problems/kth-smallest-element-in-a-bst/description/) ï¼›
- è‹±æ–‡ç½‘å€ï¼š[230. Kth Smallest Element in a BST](https://leetcode.com/problems/kth-smallest-element-in-a-bst/description/) ï¼Œ

> ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° `kthSmallest` æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ **k** ä¸ªæœ€å°çš„å…ƒç´ ã€‚
>
> **è¯´æ˜ï¼š**
> ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°ã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: root = [3,1,4,null,2], k = 1
> 3
> / \
> 1   4
> \
> 2
> è¾“å‡º: 1
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3
>     5
>    / \
>   3   6
>  / \
> 2   4
> /
> 1
> è¾“å‡º: 3
> ```
>
> **è¿›é˜¶ï¼š**
> å¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥/åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬ k å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ– `kthSmallest` å‡½æ•°ï¼Ÿ

### æ–¹æ³•ä¸€ï¼šå…ˆå¾—åˆ°ä¸­åºéå†çš„ç»“æœï¼Œç„¶åæ‰¾åˆ°ç¬¬ k å¤§å…ƒç´ 

æˆ‘ä»¬åˆ©ç”¨äº†äºŒåˆ†æœç´¢æ ‘çš„æœ‰åºæ€§ï¼ŒäºŒåˆ†æœç´¢æ ‘çš„ä¸­åºéå†å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œç›´æ¥å¾—åˆ°ç»“è®ºã€‚

Java ä»£ç ï¼š

java

```java
import java.util.ArrayList;
import java.util.List;

public class Solution {

    public int kthSmallest(TreeNode root, int k) {
        List<Integer> res = new ArrayList<>();
        dfs(root, res);
        return res.get(k - 1);
    }

    private void dfs(TreeNode node, List<Integer> res) {
        if (node == null) {
            return;
        }
        dfs(node.left, res);
        res.add(node.val);
        dfs(node.right, res);
    }
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘)O(N)ï¼Œéå†äº†æ•´ä¸ªæ ‘ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘)O(N)ï¼Œç”¨äº†ä¸€ä¸ªæ•°ç»„å­˜å‚¨ä¸­åºåºåˆ—ã€‚

### æ–¹æ³•äºŒï¼šåœ¨é€’å½’çš„æ—¶å€™ä¸è®°å½•å…¨éƒ¨ç»“æœï¼Œåªè®°å½•è®¡æ•°å™¨

Java ä»£ç ï¼š

java

```java
public class Solution {

    public int kthSmallest(TreeNode root, int k) {
        count = k;
        dfs(root);
        return res;
    }

    private int count = 0;
    private int res = 0;

    private void dfs(TreeNode node) {
        // å…ˆå†™é€’å½’ç»ˆæ­¢æ¡ä»¶
        if (node == null) {
            // ä»€ä¹ˆéƒ½ä¸åš
            return;
        }

        dfs(node.left);

        count--;
        if (count == 0) {
            this.res = node.val;
        }

        dfs(node.right);
    }
}
```

åˆ†æï¼šå› ä¸ºäºŒåˆ†æœç´¢æ ‘å…·æœ‰é¡ºåºæ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ç±»ä¼¼å¿«é€Ÿæ’åºçš„ partition æ“ä½œæ¥å®Œæˆ

1ã€äºŒåˆ†æœç´¢æ ‘çš„æœ‰åºæ€§ï¼›2ã€äºŒå‰æ ‘ä¸­åºéå†ï¼Œç‰¹åˆ«åœ°ï¼Œ

ç®€è€Œè¨€ä¹‹å°±æ˜¯åœ¨ä¸­åºéå†çš„æ—¶å€™æ•°ä¸ªæ•°ï¼Œç¬¬ 1 ä¸ªéå†åˆ°çš„æ˜¯ç¬¬ 1 ä¸ªæœ€å°çš„å…ƒç´ ï¼Œç¬¬ 2 ä¸ªéå†åˆ°çš„æ˜¯ç¬¬ 2 ä¸ªæœ€å°çš„å…ƒç´ ï¼Œæ•°åˆ°ç¬¬ k ä¸ªå¤Ÿæ•°äº†ï¼Œå°±ä¸ç”¨å†éå†äº†ã€‚

Python ä»£ç ï¼š

python

```python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None


# 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ 
# ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° kthSmallest æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ k ä¸ªæœ€å°çš„å…ƒç´ ã€‚

class Solution:

    # ä½¿ç”¨ä¸­åºéå†å¾—åˆ° BST ç¬¬ k å°çš„é‚£ä¸ªå…ƒç´ 

    def __init__(self):
        self.k = None
        self.res = None

    def __dfs(self, node):
        if node is None:
            return
        self.__dfs(node.left)
        self.k -= 1
        if self.k == 0:
            self.res = node.val
            return

        self.__dfs(node.right)

    def kthSmallest(self, root, k):
        self.k = k
        self.__dfs(root)
        return self.res
```

ç­‰ä»·å†™æ³•ï¼š

Python ä»£ç ï¼š

python

```python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None


class Solution:
    def __init__(self):
        self.counter = 0
        self.res = 0

    def kthSmallest(self, root, k):
        # ä½¿ç”¨é€’å½’çš„æ–¹æ³•ï¼Œä¸­åºéå†
        if root.left:
            # ä¸æ˜¯ç©ºï¼Œæ‰ç»§ç»­éå†
            self.kthSmallest(root.left, k)
        self.counter += 1
        # print(root.val)
        if self.counter == k:
            # æ³¨æ„ï¼šåƒä¸‡ä¸èƒ½åœ¨è¿™é‡Œè¿”å›ï¼Œååºéå†è¿˜è¦ç»§ç»­è¿›è¡Œä¸‹å»
            self.res = root.val
            return
        if root.right:
            self.kthSmallest(root.right, k)
        return self.res
```

Python ä»£ç ï¼šæ¨èå†™æ³•

python

```python
# Definition for a binary tree node.
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None

# è¿™ç§å†™æ³•æ¯” 3 æ›´å¥½ä¸€äº›ï¼Œåœ¨å…¥æ ˆçš„æ—¶å€™ï¼Œå°±åˆ¤æ–­ç»“ç‚¹æ˜¯ä¸æ˜¯ç©ºï¼Œéç©ºæ‰å…¥æ ˆ


class Solution:
    def kthSmallest(self, root, k):
        stack = [(1, root)]
        while stack:
            command, node = stack.pop()
            if command == 0:
                k -= 1
                if k == 0:
                    return node.val
            else:
                # æ¨¡æ‹Ÿç³»ç»Ÿæ ˆå®ç°ä¸­åºéå†(å…ˆå·¦è¾¹ã€å†è‡ªå·±ã€å†å³è¾¹)
                if node.right:
                    stack.append((1, node.right))
                stack.append((0, node))
                if node.left:
                    stack.append((1, node.left))
```

Python ä»£ç ï¼š

python

```python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None


class Solution:
    def kthSmallest(self, root, k):
        stack = [(1, root)]
        while stack:
            command, node = stack.pop()
            if command == 0:
                k -= 1
                if k == 0:
                    return node.val
            else:
                # æ¨¡æ‹Ÿç³»ç»Ÿæ ˆå®ç°ä¸­åºéå†(å…ˆå·¦è¾¹ã€å†è‡ªå·±ã€å†å³è¾¹)
                if node.right:
                    stack.append((1, node.right))
                stack.append((0, node))
                if node.left:
                    stack.append((1, node.left))
```