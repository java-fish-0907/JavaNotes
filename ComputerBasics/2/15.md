## ã€ŒåŠ›æ‰£ã€ç¬¬ 658 é¢˜ï¼šæ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ 

é¢˜è§£åœ°å€ï¼š[æ’é™¤æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰ + äºŒåˆ†æ³•ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰](https://leetcode-cn.com/problems/find-k-closest-elements/solution/pai-chu-fa-shuang-zhi-zhen-er-fen-fa-python-dai-ma/)ã€‚

è¯´æ˜ï¼šæ–‡æœ¬é¦–å‘åœ¨åŠ›æ‰£çš„é¢˜è§£ç‰ˆå—ï¼Œæ›´æ–°ä¹Ÿä¼šåœ¨ç¬¬ 1 æ—¶é—´åœ¨ä¸Šé¢çš„ç½‘ç«™ä¸­æ›´æ–°ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯ä¸Šé¢çš„æ–‡ç« çš„ä¸€ä¸ªå¿«ç…§ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥çœ‹åˆ°å…¶ä»–ç½‘å‹å¯¹æœ¬æ–‡çš„è¯„è®ºã€‚

ä¼ é€é—¨ï¼š[658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ ](https://leetcode-cn.com/problems/find-k-closest-elements/)ã€‚

> ç»™å®šä¸€ä¸ªæ’åºå¥½çš„æ•°ç»„ï¼Œä¸¤ä¸ªæ•´æ•° k å’Œ xï¼Œä»æ•°ç»„ä¸­æ‰¾åˆ°æœ€é è¿‘ xï¼ˆä¸¤æ•°ä¹‹å·®æœ€å°ï¼‰çš„ k ä¸ªæ•°ã€‚è¿”å›çš„ç»“æœå¿…é¡»è¦æ˜¯æŒ‰å‡åºæ’å¥½çš„ã€‚å¦‚æœæœ‰ä¸¤ä¸ªæ•°ä¸ x çš„å·®å€¼ä¸€æ ·ï¼Œä¼˜å…ˆé€‰æ‹©æ•°å€¼è¾ƒå°çš„é‚£ä¸ªæ•°ã€‚
>
> ç¤ºä¾‹ 1:
>
> è¾“å…¥: [1,2,3,4,5], k=4, x=3
> è¾“å‡º: [1,2,3,4]
>
> ç¤ºä¾‹ 2:
>
> è¾“å…¥: [1,2,3,4,5], k=4, x=-1
> è¾“å‡º: [1,2,3,4]
>
> è¯´æ˜:
>
> k çš„å€¼ä¸ºæ­£æ•°ï¼Œä¸”æ€»æ˜¯å°äºç»™å®šæ’åºæ•°ç»„çš„é•¿åº¦ã€‚
> æ•°ç»„ä¸ä¸ºç©ºï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡ 104
> æ•°ç»„é‡Œçš„æ¯ä¸ªå…ƒç´ ä¸ x çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 104
>
> æ›´æ–°2017/9/192017/9/19:
> è¿™ä¸ªå‚æ•° arr å·²ç»è¢«æ”¹å˜ä¸ºä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼ˆè€Œä¸æ˜¯æ•´æ•°åˆ—è¡¨ï¼‰ã€‚ è¯·é‡æ–°åŠ è½½ä»£ç å®šä¹‰ä»¥è·å–æœ€æ–°æ›´æ”¹ã€‚

## æ’é™¤æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰ + äºŒåˆ†æ³•ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰

åšè¿™ä¸€ç±»é¢˜ç›®çš„æ€è·¯å¾€å¾€æ¥è‡ªäºå¯¹å…·ä½“ä¾‹å­çš„ç ”ç©¶ï¼Œå¤šä¸¾å‡ ä¸ªä¾‹å­ï¼Œåœ¨è‰ç¨¿çº¸ä¸Šå†™å†™ç”»ç”»ï¼Œä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬å¯¹è¾¹ç•Œé—®é¢˜çš„è®¨è®ºã€‚

ä»¥ä¸‹ä»‹ç»çš„ä¸¤ç§æ–¹æ³•ï¼Œæ’é™¤æ³•æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°ï¼Œè€Œ**äºŒåˆ†æ³•åŸºäºæ’é™¤æ³•çš„æ€æƒ³**ï¼Œå¸Œæœ›è¯»è€…èƒ½å¤Ÿè®¤çœŸä½“ä¼šï¼Œä»£ç è™½ç„¶ç®€å•ï¼Œä½†æ˜¯è¦åšä¸€äº›åˆ†ç±»è®¨è®ºæ‰èƒ½è§£é‡Šå¾—æ¸…æ¥šã€‚

### æ–¹æ³•ä¸€ï¼šæ’é™¤æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰

ä»¥ `arr = [1, 2, 3, 4, 5, 6, 7]` , `x = 5`, `k = 3` ä¸ºä¾‹ã€‚

**æ€è·¯åˆ†æ**ï¼š

1ã€ä¸€ä¸ªä¸€ä¸ªåˆ ï¼Œå› ä¸ºæ˜¯æœ‰åºæ•°ç»„ï¼Œä¸”è¿”å›çš„æ˜¯è¿ç»­å‡åºå­æ•°ç»„ï¼Œ**æ‰€ä»¥æ¯ä¸€æ¬¡åˆ é™¤çš„å…ƒç´ ä¸€å®šæ˜¯ä½äºè¾¹ç•Œ**ï¼›

2ã€ä¸€å…± 77 ä¸ªå…ƒç´ ï¼Œè¦ä¿ç•™ 33 ä¸ªå…ƒç´ ï¼Œå› æ­¤è¦åˆ é™¤ 44 ä¸ªå…ƒç´ ï¼›

3ã€å› ä¸ºè¦åˆ é™¤çš„å…ƒç´ éƒ½ä½äºè¾¹ç•Œï¼Œäºæ˜¯å¯ä»¥ä½¿ç”¨**åŒæŒ‡é’ˆ**å¯¹æ’çš„æ–¹å¼ç¡®å®šä¿ç•™åŒºé—´ï¼Œå³â€œæœ€ä¼˜åŒºé—´â€ã€‚

ï¼ˆæ¸©é¦¨æç¤ºï¼šä¸‹é¢çš„å¹»ç¯ç‰‡ä¸­ï¼Œæœ‰å‡ é¡µä¸Šæœ‰è¾ƒå¤šçš„æ–‡å­—ï¼Œå¯èƒ½éœ€è¦æ‚¨åœç•™ä¸€ä¸‹ï¼Œå¯ä»¥ç‚¹å‡»å³ä¸‹è§’çš„åé€€ â€œ|â—€â€ æˆ–è€…å‰è¿› â€œâ–¶|â€ æŒ‰é’®æ§åˆ¶å¹»ç¯ç‰‡çš„æ’­æ”¾ã€‚ï¼‰



![658-1.png](https://pic.leetcode-cn.com/7cac52f799ba654e9483f47cd17533706a380dbc15fbb6dbc93a83bce11c45db-658-1.png)

**658-1.png**

),

![658-2.png](https://pic.leetcode-cn.com/ab9c789d3c7fc18cdb1dd7d383c3fa984033f4420412ffe91d747cdfe3623994-658-2.png)

**658-2.png**

),

![658-3.png](https://pic.leetcode-cn.com/0ae58bb7d22e120a900c8eb7a5735ef5e777373885d17f8f90fe0a172579716a-658-3.png)

**658-3.png**

),

![658-4.png](https://pic.leetcode-cn.com/3b003257d123fe2e944f0f06f94d88d1b35cc0f071748dc5ca2f77362c69621e-658-4.png)

**658-4.png**

),

![658-5.png](https://pic.leetcode-cn.com/9b971313fa81e97893a9321769478375dac74fa92d8cdc75563386949f18731d-658-5.png)

**658-5.png**



**å‚è€ƒä»£ç **ï¼š

Java ä»£ç ï¼š

java

```java
import java.util.ArrayList;
import java.util.List;

public class Solution {

    public List<Integer> findClosestElements(int[] arr, int k, int x) {
        int size = arr.length;

        int left = 0;
        int right = size - 1;

        int removeNums = size - k;
        while (removeNums > 0) {
            if (x - arr[left] <= arr[right] - x) {
                right--;
            } else {
                left++;
            }
            removeNums--;
        }

        List<Integer> res = new ArrayList<>();
        for (int i = left; i < left + k; i++) {
            res.add(arr[i]);
        }
        return res;
    }

    public static void main(String[] args) {
        int[] arr = {0, 0, 1, 2, 3, 3, 4, 7, 7, 8};
        int k = 3;
        int x = 5;
        Solution solution = new Solution();
        List<Integer> res = solution.findClosestElements(arr, k, x);
        System.out.println(res);
    }
}
```

Python ä»£ç ï¼š

python

```python
from typing import List


class Solution:
    def findClosestElements(self, arr: List[int], k: int, x: int) -> List[int]:
        # æ’é™¤æ³•ï¼ˆåŒæŒ‡é’ˆï¼‰
        size = len(arr)
        left = 0
        right = size - 1

        # æˆ‘ä»¬è¦æ’é™¤æ‰ size - k è¿™ä¹ˆå¤šå…ƒç´ 
        remove_nums = size - k
        while remove_nums:
            # è°ƒè¯•è¯­å¥
            # print(left, right, k)
            # æ³¨æ„ï¼šè¿™é‡Œç­‰äºå·çš„å«ä¹‰ï¼Œé¢˜ç›®ä¸­è¯´ï¼Œè·ç¦»ç›¸ç­‰çš„æ—¶å€™å–å°çš„
            # æ‰€ä»¥ï¼Œç›¸ç­‰çš„æ—¶å€™ï¼Œå°½é‡ç¼©å°å³è¾¹ç•Œ
            if x - arr[left] <= arr[right] - x:
                right -= 1
            else:
                left += 1
            remove_nums -= 1
        return arr[left:left + k]
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘)O(N)ï¼Œè¿™é‡Œ ğ‘N æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–çš„è¾…åŠ©ç©ºé—´ã€‚

------

é¢˜ç›®ä¸­è¯´æœ‰åºæ•°ç»„ï¼Œåˆæ˜“çŸ¥ï¼š

1ã€é¢˜ç›®è¦æ±‚è¿”å›çš„æ˜¯åŒºé—´ï¼Œå¹¶ä¸”æ˜¯è¿ç»­åŒºé—´ï¼›

2ã€åŒºé—´é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸” `k` çš„å€¼ä¸ºæ­£æ•°ï¼Œä¸”æ€»æ˜¯å°äºç»™å®šæ’åºæ•°ç»„çš„é•¿åº¦ï¼Œå³ `k` çš„å€¼â€œä¸è¿è§„â€ï¼›

å› æ­¤ï¼Œåªè¦æˆ‘ä»¬æ‰¾åˆ°äº†å·¦è¾¹ç•Œçš„ç´¢å¼•ï¼Œä»å·¦è¾¹ç•Œå¼€å§‹æ•° `k` ä¸ªæ•°ï¼Œè¿”å›å°±å¥½äº†ã€‚æˆ‘ä»¬æŠŠè¿™ä»¶äº‹æƒ…å®šä¹‰ä¸ºâ€œå¯»æ‰¾æœ€ä¼˜åŒºé—´â€ï¼Œâ€œå¯»æ‰¾æœ€ä¼˜åŒºé—´â€ç­‰ä»·äºâ€œå¯»æ‰¾æœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€ã€‚å› æ­¤æœ¬é¢˜ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•åœ¨æœ‰åºæ•°ç»„ä¸­**å®šä½å«æœ‰ `k` ä¸ªå…ƒç´ çš„è¿ç»­å­åŒºé—´çš„å·¦è¾¹ç•Œ**ï¼Œå³ä½¿ç”¨äºŒåˆ†æ³•æ‰¾â€œæœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€ã€‚

### æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾æœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œ

ç”±æ’é™¤æ³•ï¼Œæˆ‘ä»¬çŸ¥é“ï¼š

**â€œæ’é™¤æ³•â€çš„ç»“è®º**ï¼šï¼ˆè¿™ä¸ªç»“è®ºå¯¹äºè¿™é“é—®é¢˜æ¥è¯´éå¸¸é‡è¦ï¼Œå¯ä»¥è¯´æ˜¯è§£é¢˜çš„å…³é”®ï¼‰

> å¦‚æœ `x` çš„å€¼å°±åœ¨é•¿åº¦ä¸º size åŒºé—´å†…ï¼ˆä¸ä¸€å®šç›¸ç­‰ï¼‰ï¼Œè¦å¾—åˆ° size - 1 ä¸ªç¬¦åˆé¢˜æ„çš„æœ€æ¥è¿‘çš„å…ƒç´ ï¼Œæ­¤æ—¶çœ‹å·¦å³è¾¹ç•Œï¼š
>
> 1ã€å¦‚æœå·¦è¾¹ç•Œè·ç¦» `x` è¾ƒè¿‘ï¼Œåˆ é™¤å³è¾¹ç•Œï¼›
> 2ã€å¦‚æœå³è¾¹ç•Œè·ç¦» `x` è¾ƒè¿‘ï¼Œåˆ é™¤å·¦è¾¹ç•Œï¼›
> 3ã€å¦‚æœå·¦ã€å³è¾¹ç•Œè·ç¦» `x` çš„é•¿åº¦ç›¸ç­‰ï¼Œåˆ é™¤å³è¾¹ç•Œã€‚

**è®¨è®ºâ€œæœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€çš„å–å€¼èŒƒå›´**ï¼š

é¦–å…ˆæˆ‘ä»¬è®¨è®ºå·¦åŒºé—´çš„å–å€¼èŒƒå›´ï¼Œä½¿ç”¨å…·ä½“çš„ä¾‹å­ï¼Œå°±å¾ˆå¾ˆæ¸…æ¥šåœ°æ‰¾åˆ°è§„å¾‹ï¼š

1ã€å‡è®¾ä¸€å…±æœ‰ 5 ä¸ªæ•°ï¼Œ`[0,1,2,3,4]`ï¼Œæ‰¾ 3 ä¸ªæ•°ï¼Œå·¦è¾¹ç•Œæœ€å¤šåˆ° 2ï¼›

2ã€å‡è®¾ä¸€å…±æœ‰ 8 ä¸ªæ•°ï¼Œ`[0,1,2,3,4,5,6,7]`ï¼Œæ‰¾ 5 ä¸ªæ•°ï¼Œå·¦è¾¹ç•Œæœ€å¤šåˆ° 3ã€‚

å› æ­¤ï¼Œâ€œæœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€çš„ç´¢å¼•çš„æœç´¢åŒºé—´ä¸º `[0, size - k]`ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªåŒºé—´çš„å·¦å³éƒ½æ˜¯é—­åŒºé—´ï¼Œéƒ½èƒ½å–åˆ°ã€‚

å®šä½å·¦åŒºé—´çš„ç´¢å¼•ï¼Œæœ‰ä¸€ç‚¹æŠ€å·§æ€§ï¼Œä½†å¹¶ä¸éš¾ç†è§£ã€‚ç”±æ’é™¤æ³•çš„ç»“è®ºï¼Œæˆ‘ä»¬å…ˆä» `[0, size - k]` è¿™ä¸ªåŒºé—´çš„ä»»æ„ä¸€ä¸ªä½ç½®ï¼ˆç”¨äºŒåˆ†æ³•å°±æ˜¯å½“å‰å€™é€‰åŒºé—´çš„ä¸­ä½æ•°ï¼‰å¼€å§‹ï¼Œ**å®šä½ä¸€ä¸ªé•¿åº¦ä¸º `(k + 1)` çš„åŒºé—´**ï¼Œæ ¹æ®è¿™ä¸ªåŒºé—´æ˜¯å¦åŒ…å« `x` å¼€å±•è®¨è®ºã€‚

1ã€å¦‚æœåŒºé—´åŒ…å« `x`ï¼Œæˆ‘ä»¬å°è¯•åˆ é™¤ 1 ä¸ªå…ƒç´ ï¼Œå¥½è®©åŒºé—´å‘ç”Ÿç§»åŠ¨ï¼Œä¾¿äºå®šä½â€œæœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€çš„ç´¢å¼•ï¼›
2ã€å¦‚æœåŒºé—´ä¸åŒ…å« `x`ï¼Œå°±æ›´ç®€å•äº†ï¼Œæˆ‘ä»¬å°è¯•æŠŠåŒºé—´è¿›è¡Œç§»åŠ¨ï¼Œä»¥è¯•å›¾åŒ…å« `x`ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½åŒºé—´ç§»åŠ¨ä¸äº†ï¼ˆæç«¯æƒ…å†µä¸‹ï¼‰ã€‚

ä»¥ä¸‹çš„è®¨è®ºï¼Œå¯¹äºè®°å· `left`ã€`right` å’Œ `mid` è¯´æ˜å¦‚ä¸‹ï¼š

1ã€`left`ã€`right` æ˜¯å€™é€‰åŒºé—´çš„å·¦å³è¾¹ç•Œçš„ç´¢å¼•ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œåˆå§‹æ—¶ï¼Œ`left = 0`ï¼Œ`right = size - k`ï¼›
2ã€è€Œ `mid` æ˜¯å€™é€‰åŒºé—´çš„ä¸­ä½æ•°çš„ç´¢å¼•ï¼Œå®ƒçš„å–å€¼å¯èƒ½æ˜¯

```
mid = left + (right - left) // 2
```

ä¹Ÿå¯èƒ½æ˜¯

```
mid = left + (right - left + 1) // 2
```

ä¹‹æ‰€ä»¥æˆ‘ä»¬é€‰æ‹© `mid = left + (right - left) // 2` ï¼Œè¯·å‚è€ƒæˆ‘åœ¨ã€ŒåŠ›æ‰£ã€ç¬¬ 35 é¢˜ï¼šæœç´¢æ’å…¥ä½ç½®çš„é¢˜è§£[ã€Šç‰¹åˆ«å¥½ç”¨çš„äºŒåˆ†æŸ¥æ‰¾æ³•æ¨¡æ¿ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰ã€‹](https://leetcode-cn.com/problems/search-insert-position/solution/te-bie-hao-yong-de-er-fen-cha-fa-fa-mo-ban-python-/)ä¸­çš„å™è¿°ã€‚

> åé¢çš„æ–‡å­—å¯èƒ½ä¼šéå¸¸ç»•ï¼Œåœ¨è¿™é‡Œå»ºè®®è¯»è€…é€šè¯»ï¼Œå‰åæ¥å›çœ‹ï¼Œä¸å¤ªæ¸…æ¥šçš„åœ°æ–¹å…ˆè·³è¿‡ï¼Œä¸”ä¸ä¸€å®šå…¨çœ‹æˆ‘çš„å™è¿°ï¼Œçœ‹æ˜ç™½ä¸€å°æ®µï¼Œåœ¨è‰ç¨¿çº¸ä¸Šå†™å†™ç”»ç”»ä¸€ç‚¹ï¼Œå¡å£³äº†å†çœ‹æˆ‘çš„å™è¿°ï¼Œè¿™æ ·å°±ä¸ä¼šå¤ªæ™•ã€‚

æˆ‘ä»¬å…ˆä»æœ€ç®€å•çš„æƒ…å†µå¼€å§‹è®¨è®ºï¼š

1ã€å¦‚æœåŒºé—´ä¸åŒ…å« `x`ï¼š

ï¼ˆ1ï¼‰ åŒºé—´çš„å³ç«¯ç‚¹åœ¨ `x` çš„å·¦è¾¹ï¼Œå³ `x` æ¯” `arr` ä¸­æœ€å¤§çš„å…ƒç´ è¿˜è¦å¤§ï¼Œ**å› ä¸ºè¦å»æ‰ 1 ä¸ªå…ƒç´ ï¼Œæ˜¾ç„¶å»æ‰å·¦ç«¯ç‚¹**ï¼Œå› æ­¤â€œæœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€çš„ç´¢å¼•è‡³å°‘æ˜¯ `mid + 1`ï¼Œå³ `left = mid + 1`ï¼Œ**å› ä¸ºåŒºé—´ä¸å¯èƒ½å†å¾€å·¦è¾¹èµ°äº†**ï¼Œå¦‚å›¾ï¼›



![image.png](https://pic.leetcode-cn.com/002e341fa376ece19580704839a5a8bad78b50c6c93a148a928b840ea8cd0272-image.png)

**image.png**



è¯´æ˜ï¼šæç«¯æƒ…å†µæ˜¯æ­¤æ—¶ä¸­ä½æ•°ä½äºç´¢å¼• `size - k`ï¼ŒåŒºé—´ä¸èƒ½å³ç§»ã€‚

ï¼ˆ2ï¼‰åŒºé—´çš„å·¦ç«¯ç‚¹åœ¨ `x` çš„å·¦è¾¹ï¼Œå³ `x` æ¯” `arr` ä¸­æœ€å°çš„å…ƒç´ è¿˜è¦å°ï¼Œå½“å‰çš„åŒºé—´å·¦ç«¯ç‚¹çš„ç´¢å¼•è‡³å¤šæ˜¯ `mid`ï¼Œæ­¤æ—¶ `right = mid`ï¼Œ**å› ä¸ºåŒºé—´ä¸å¯èƒ½å†å¾€å³åäº†**ï¼Œå¦‚å›¾ï¼›



![image.png](https://pic.leetcode-cn.com/4fe43ad19083c07fb72771892f36cb1d5b0dba01533e522f075ef0a153a1267a-image.png)

**image.png**



è¯´æ˜ï¼šæç«¯æƒ…å†µæ˜¯æ­¤æ—¶ `mid` ä½äºç´¢å¼• `0`ï¼ŒåŒºé—´ä¸èƒ½å·¦ç§»ã€‚

2ã€å¦‚æœåŒºé—´åŒ…å« `x`ï¼Œæˆ‘ä»¬å°è¯•åˆ æ‰ä¸€ä¸ªå…ƒç´ ï¼Œä»¥ä¾¿è®©åŒºé—´å‘ç”Ÿç§»åŠ¨ï¼Œç¼©å°æœç´¢èŒƒå›´ï¼š

æ˜“çŸ¥ï¼Œæˆ‘ä»¬è¦æ¯”è¾ƒé•¿åº¦ä¸º `k + 1` çš„åŒºé—´çš„å·¦å³ç«¯ç‚¹çš„æ•°å€¼ä¸ `x` çš„è·ç¦»ã€‚æ­¤æ—¶è¿™ä¸ªåŒºé—´çš„å·¦è¾¹ç•Œçš„ç´¢å¼•æ˜¯ `mid`ï¼Œå³è¾¹ç•Œçš„ç´¢å¼•æ˜¯ `mid + k`ã€‚æ ¹æ®â€œæ’é™¤æ³•â€çš„ç»“è®ºï¼Œåˆ†ç±»è®¨è®ºå¦‚ä¸‹ï¼š

ï¼ˆ1ï¼‰å¦‚æœå³è¾¹ç•Œè·ç¦» `x` è¾ƒè¿‘ï¼Œå·¦è¾¹ç•Œæ”¶ç¼©ï¼Œå¯ä»¥è‚¯å®šçš„æ˜¯â€œæœ€ä¼˜åŒºé—´çš„å·¦è¾¹ç•Œâ€çš„ç´¢å¼• `left` è‡³å°‘æ˜¯ `mid + 1`ï¼Œå³ `left = mid + 1`ï¼Œå¦‚å›¾ï¼›



![image.png](https://pic.leetcode-cn.com/0a8fe24c6abcad7ae2d774506b4b0abccd5eb95b953be9c367f49c633fed9343-image.png)

**image.png**



è¯´æ˜ï¼šâ€œå³è¾¹ç•Œè·ç¦» `x` è¾ƒè¿‘â€åŒæ ·é€‚ç”¨äº 1ã€ï¼ˆ1ï¼‰æƒ…å†µï¼Œå› æ­¤å®ƒä»¬äºŒè€…å¯ä»¥åˆå¹¶ï¼›

ï¼ˆ2ï¼‰å¦‚æœå·¦è¾¹ç•Œè·ç¦» `x` è¾ƒè¿‘ï¼Œå³è¾¹ç•Œæ”¶ç¼©ï¼Œæ­¤æ—¶åŒºé—´ä¸ç§»åŠ¨ï¼Œæ³¨æ„ï¼šæ­¤æ—¶æœ‰å¯èƒ½æ”¶ç¼©ä»¥åçš„åŒºé—´å°±æ˜¯å¾…æ±‚çš„åŒºé—´ï¼Œä¹Ÿæœ‰å¯èƒ½æ•´ä¸ªåŒºé—´å‘å·¦ç§»åŠ¨ï¼Œè¿™ä»¶äº‹æƒ…å«åšï¼Œ`right = mid` ä¸èƒ½æ’é™¤ `mid`ï¼Œå¦‚å›¾ï¼›



![image.png](https://pic.leetcode-cn.com/6dfea16f88fd03e10c95c2e2d216711ed1489a58a173ac4cd1d2e1a9de583de0-image.png)

**image.png**



è¯´æ˜1ï¼šè¿™ä¸€ç‚¹æ¯”è¾ƒéš¾æƒ³ï¼Œä½†å®é™…ä¸Šä¹Ÿå¯ä»¥ä¸æƒ³ï¼Œæ ¹æ® 2ã€ï¼ˆ1ï¼‰çš„ç»“è®ºï¼Œå·¦åŒºé—´æ”¶ç¼©çš„åé¢å³æ˜¯å³åŒºé—´ä¸æ”¶ç¼©ï¼Œå› æ­¤ï¼Œè¿™ä¸€åˆ†æ”¯çš„é€»è¾‘ä¸€å®šæ˜¯ `right = mid`ã€‚

> â€œå®é™…ä¸Šä¹Ÿå¯ä»¥ä¸æƒ³â€çš„å…·ä½“åŸå› ï¼ŒåŒæ ·å‚è€ƒæˆ‘åœ¨ã€ŒåŠ›æ‰£ã€ç¬¬ 35 é¢˜ï¼šæœç´¢æ’å…¥ä½ç½®çš„é¢˜è§£[ã€Šç‰¹åˆ«å¥½ç”¨çš„äºŒåˆ†æŸ¥æ‰¾æ³•æ¨¡æ¿ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰ã€‹](https://leetcode-cn.com/problems/search-insert-position/solution/te-bie-hao-yong-de-er-fen-cha-fa-fa-mo-ban-python-/)ä¸­çš„å™è¿°ï¼Œæˆ‘ä¸“é—¨æŠŠå¦‚ä½•å†™å¥½äºŒåˆ†æ³•ï¼Œä½¿ç”¨äºŒåˆ†æ³•æ¨¡æ¿å¥½ç”¨çš„åœ°æ–¹ã€ä½¿ç”¨å®ƒçš„æŠ€å·§å’Œæ³¨æ„äº‹é¡¹æ•´ç†åœ¨è¿™ç¯‡é¢˜è§£ä¸­ï¼Œå¸Œæœ›èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚

è¯´æ˜2ï¼šâ€œå·¦è¾¹ç•Œè·ç¦» `x` è¾ƒè¿‘â€åŒæ ·é€‚ç”¨äº 1ã€ï¼ˆ2ï¼‰æƒ…å†µï¼Œå› æ­¤å®ƒä»¬äºŒè€…å¯ä»¥åˆå¹¶ã€‚

ï¼ˆ3ï¼‰å¦‚æœå·¦ã€å³è¾¹ç•Œè·ç¦» `x` çš„é•¿åº¦ç›¸ç­‰ï¼Œåˆ é™¤å³è¾¹ç•Œï¼Œç»“è®ºåŒ 2ã€ï¼ˆ2ï¼‰ï¼Œä¹Ÿæœ‰ `right = mid`ï¼Œå¯ä»¥åˆå¹¶åˆ° 2ã€ï¼ˆ2ï¼‰ã€‚

ä»¥ä¸Šçœ‹æ™•çš„æœ‹å‹ä»¬ï¼Œå»ºè®®ä½ åœ¨è‰ç¨¿çº¸ä¸Šå†™å†™ç”»ç”»ï¼Œæ€è·¯å°±éå¸¸æ¸…æ™°äº†ï¼Œå¹¶ä¸”å†™å‡ºçš„ä»£ç ä¹Ÿå¾ˆç®€æ´ã€‚è¿™ä¸ªä»£ç ä¹Ÿä¸æ˜¯æˆ‘åŸåˆ›çš„ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹ï¼Œåˆšå¼€å§‹çš„æ—¶å€™ï¼Œä¸€ç›´ä¸èƒ½ç†è§£ä¸‹é¢è¿™æ®µä»£ç çš„æ„æ€ã€‚

```
if x - arr[mid] > arr[mid + k] - x:
    left = mid + 1
else:
    right = mid
```

å†™ä¸ªè‰ç¨¿å°±æ¸…æ¥šå¤šäº†ï¼ŒåŸæ¥æ˜¯å¹¶ä¸å›°éš¾ï¼Œåªæ˜¯ç¨æ˜¾å¤æ‚ã€‚



![image.png](https://pic.leetcode-cn.com/1505e8c19730133b6bc9c2b6088fd9f0ff376f9539dcf0932214b77415e542b6-image.png)

**image.png**





![image.png](https://pic.leetcode-cn.com/1ff7a2c278f3624bae64e29bc4e3a7aeb2f1fb3835baaeb444f5d4c5df1e4c7d-image.png)

**image.png**



**å‚è€ƒä»£ç **ï¼š

Python ä»£ç ï¼š

Python

```Python
from typing import List


class Solution:
    def findClosestElements(self, arr: List[int], k: int, x: int) -> List[int]:
        size = len(arr)
        left = 0
        right = size - k

        while left < right:
            # mid = left + (right - left) // 2
            mid = (left + right) >> 1
            # å°è¯•ä»é•¿åº¦ä¸º k + 1 çš„è¿ç»­å­åŒºé—´åˆ é™¤ä¸€ä¸ªå…ƒç´ 
            # ä»è€Œå®šä½å·¦åŒºé—´ç«¯ç‚¹çš„è¾¹ç•Œå€¼
            if x - arr[mid] > arr[mid + k] - x:
                left = mid + 1
            else:
                right = mid
        return arr[left:left + k]
```

Java ä»£ç ï¼š

Java

```Java
import java.util.ArrayList;
import java.util.List;

public class Solution {

    public List findClosestElements(int[] arr, int k, int x) {
        int size = arr.length;

        int left = 0;
        int right = size - k;

        while (left < right) {
            // int mid = left + (right - left) / 2;
            int mid = (left + right) >>> 1;
            // å°è¯•ä»é•¿åº¦ä¸º k + 1 çš„è¿ç»­å­åŒºé—´åˆ é™¤ä¸€ä¸ªå…ƒç´ 
            // ä»è€Œå®šä½å·¦åŒºé—´ç«¯ç‚¹çš„è¾¹ç•Œå€¼
            if (x - arr[mid] > arr[mid + k] - x) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }

        List res = new ArrayList<>();
        for (int i = left; i < left + k; i++) {
            res.add(arr[i]);
        }
        return res;
    }

    public static void main(String[] args) {
        int[] arr = {0, 0, 1, 2, 3, 3, 4, 7, 7, 8};
        int k = 3;
        int x = 5;
        Solution2 solution = new Solution2();
        List res = solution.findClosestElements(arr, k, x);
        System.out.println(res);
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(logğ‘)O(logâ¡N)ï¼Œè¿™é‡Œ ğ‘N æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œä½¿ç”¨äºŒåˆ†æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¯¹æ•°çº§åˆ«çš„ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–çš„è¾…åŠ©ç©ºé—´ã€‚

ï¼ˆæœ¬èŠ‚å®Œï¼‰