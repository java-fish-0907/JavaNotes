## ã€ŒåŠ›æ‰£ã€ç¬¬ 704 é¢˜ï¼šäºŒåˆ†æŸ¥æ‰¾ï¼ˆç®€å•ï¼‰

- [é“¾æ¥](https://leetcode-cn.com/problems/binary-search)

> ç»™å®šä¸€ä¸ª `n` ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ `nums` å’Œä¸€ä¸ªç›®æ ‡å€¼ `target` ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ `nums` ä¸­çš„ `target`ï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› -1ã€‚
>
> ç¤ºä¾‹ 1ï¼š
>
> ```
> è¾“å…¥: nums = [-1, 0, 3, 5, 9, 12], target = 9
> è¾“å‡º: 4
> è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4
> ```
>
> ç¤ºä¾‹ 2ï¼š
>
> ```
> è¾“å…¥: nums = [-1, 0, 3, 5, 9, 12], target = 2
> è¾“å‡º: -1
> è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1
> ```
>
> æç¤ºï¼š
>
> 1ã€ä½ å¯ä»¥å‡è®¾ `nums` ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚
> 2ã€`n` å°†åœ¨ `[1, 10000]` ä¹‹é—´ã€‚
> 3ã€`nums` çš„æ¯ä¸ªå…ƒç´ éƒ½å°†åœ¨ `[-9999, 9999]` ä¹‹é—´ã€‚

### æ€è·¯

æ ¹æ®çœ‹åˆ°çš„ä¸­é—´å…ƒç´ çš„æ•°å€¼ï¼Œæƒ³æ¸…æ¥šä¸‹ä¸€æ¬¡æœç´¢çš„åŒºé—´æ˜¯ä»€ä¹ˆï¼Œè¿›è€Œè®¾ç½® `left` æˆ–è€… `right` çš„å€¼ã€‚

### æ–¹æ³•ä¸€ï¼šåœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­åˆ¤æ–­ç›®æ ‡å…ƒç´ æ˜¯å¦å­˜åœ¨

è¿™ä¸ªç‰ˆæœ¬çš„äºŒåˆ†æŸ¥æ‰¾æ˜¯æ•™ç§‘ä¹¦é‡Œç»å¸¸ä»‹ç»çš„å†™æ³•ã€‚

- åœ¨å¾ªç¯ä¸­åšåˆ¤æ–­ï¼Œæ¯ä¸€è½®é€šè¿‡ç›®æ ‡å…ƒç´ ä¸ä¸­é—´å…ƒç´ çš„å¤§å°å°†æœç´¢åŒºé—´åˆ†ä¸º 3 ä¸ªéƒ¨åˆ†ï¼›
- æœ‰éé€’å½’å†™æ³•å’Œé€’å½’å†™æ³•ã€‚
- ä¼˜ç‚¹ï¼šè¯­ä¹‰éå¸¸æ¸…æ™°ï¼Œä¸å®¹æ˜“å‡ºé”™ï¼›

**å‚è€ƒä»£ç  1**ï¼š

Java ä»£ç ï¼šï¼ˆå¾ªç¯å†™æ³•ï¼‰

java

```java
public class Solution {

    public int search(int[] nums, int target) {
        int len = nums.length;
        if (len == 0) {
            return -1;
        }
        // åœ¨ [left, right] åŒºé—´é‡ŒæŸ¥æ‰¾ target
        int left = 0;
        int right = len - 1;
        while (left <= right) {

            int mid = (left + right) >>> 1;

            if (nums[mid] == target) {
                return mid;
            } else if (nums[mid] > target) {
                // ä¸‹ä¸€è½®æœç´¢åŒºé—´ï¼š[left, mid - 1]
                right = mid - 1;
            } else {
                // æ­¤æ—¶ï¼šnums[mid] < target
                // ä¸‹ä¸€è½®æœç´¢åŒºé—´ï¼š[mid + 1, right]
                left = mid + 1;
            }
        }
        // èµ°åˆ°è¿™é‡Œï¼Œå°±å¯ä»¥åˆ¤å®šè¾“å…¥æ•°ç»„é‡Œä¸å­˜åœ¨ç›®æ ‡å…ƒç´ ï¼Œè¿”å› -1
        return -1;
    }
}
```

Java ä»£ç ï¼šï¼ˆé€’å½’å†™æ³•ï¼‰

java

```java
public class Solution {

    public int search(int[] nums, int target) {
        int len = nums.length;
        if (len == 0) {
            return -1;
        }
        return binarySearch(nums, target, 0, len - 1);
    }

    private static int binarySearch(int[] arr, int target, int left, int right) {
        // å…ˆå¤„ç†é€’å½’åˆ°åº•çš„æƒ…å†µ
        if (left > right) {
            // ä¸èƒ½å½¢æˆåŒºé—´ï¼Œè¿”å› -1 è¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°
            return -1;
        }
        int mid = (left + right) >>> 1;
        if (target == arr[mid]) {
            // æ‰¾åˆ°äº†ï¼Œå°±å°†ç›®æ ‡å…ƒç´ çš„ç´¢å¼•è¿”å›
            return mid;
        } else if (target < arr[mid]) {
            // æ—¢ç„¶æ˜¯æœ‰åºæ•°ç»„ï¼Œç›®æ ‡å…ƒç´ çš„å€¼æ¯”ä¸­é—´å…ƒç´ è¿˜è¦å°ï¼Œå°±åº”è¯¥åœ¨ä¸­é—´å…ƒç´ çš„å·¦è¾¹å»æ‰¾
            return binarySearch(arr, target, left, mid - 1);
        } else {
            // æ—¢ç„¶æ˜¯æœ‰åºæ•°ç»„ï¼Œç›®æ ‡å…ƒç´ çš„å€¼æ¯”ä¸­é—´å…ƒç´ è¿˜è¦å¤§ï¼Œå°±åº”è¯¥åœ¨ä¸­é—´å…ƒç´ çš„å³è¾¹å»æ‰¾
            return binarySearch(arr, target, mid + 1, right);
        }
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(logğ‘)O(logâ¡N)ï¼Œè¿™é‡Œ ğ‘N æ˜¯æ•°ç»„çš„å…ƒç´ ä¸ªæ•°ï¼Œæ¯æ¬¡æ’é™¤å½“å‰å€™é€‰åŒºé—´ä¸€åŠä»¥ä¸Šçš„å…ƒç´ ï¼Œå› æ­¤æ˜¯å¯¹æ•°çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªçš„ä¸´æ—¶å˜é‡ã€‚

### æ–¹æ³•äºŒï¼šåœ¨å¾ªç¯ç»“æŸä»¥ååˆ¤æ–­ç›®æ ‡å…ƒç´ æ˜¯å¦å­˜åœ¨

ç‰¹ç‚¹ï¼šåœ¨å¾ªç¯ç»“æŸä»¥ååˆ¤æ–­ç›®æ ‡å…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚åœ¨å¾ªç¯ä¸­ï¼Œåˆ†æ”¯åªæœ‰ä¸¤ä¸ªåˆ¤æ–­æ›´å°‘ã€‚

ç¼ºç‚¹ï¼šå¦‚æœè¿™ä¸ªæ¨¡æ¿å†™æ³•æŒæ¡å¾—ä¸å¥½ï¼Œå®¹æ˜“å‡ºé”™ã€‚

Java ä»£ç ï¼š

java

```java
public class Solution {

    public int search(int[] nums, int target) {
        int len = nums.length;
        int left = 0;
        int right = len - 1;
        while (left < right) {

            int mid = (left + right) >>> 1;

            if (nums[mid] < target) {
                // ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ï¼š[mid + 1, right]
                left = mid + 1;
            } else {
                // æ­¤æ—¶ nums[mid] >= targetï¼Œ
                // mid çš„å³è¾¹ä¸€å®šä¸å­˜åœ¨ targetï¼Œä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ï¼š[left, mid]
                right = mid;
            }
        }
        // ä¸è¦å¿˜äº†å•ç‹¬åšåˆ¤æ–­
        if (nums[left] == target) {
            return left;
        }
        return -1;
    }
}
```

Java ä»£ç ï¼š

java

```java
public class Solution {

    public int search(int[] nums, int target) {
        int len = nums.length;

        int left = 0;
        int right = len - 1;

        while (left < right) {
            // æ³¨æ„ï¼šæ ¹æ®åˆ†æ”¯é€»è¾‘ï¼Œéœ€è¦åœ¨å–ä¸­é—´æ•°çš„æ—¶å€™ï¼Œå‘ä¸Šå–æ•´
            int mid = (left + right + 1) >>> 1;

            if (nums[mid] > target) {
                // ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ï¼š[left, mid - 1]
                right = mid - 1;
            } else {
                // æ­¤æ—¶ nums[mid] <= target
                // mid çš„å·¦è¾¹ä¸€å®šä¸ç­‰äºç›®æ ‡å…ƒç´ 
                // ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ï¼š[mid, right]
                left = mid;
            }
        }
        // ä¸è¦å¿˜äº†å•ç‹¬åšåˆ¤æ–­
        if (nums[left] == target) {
            return left;
        }
        return -1;
    }
}
```

**æ³¨æ„**ï¼š

çœ‹åˆ° `left = mid;` ï¼Œä¸€å®šè¦è®°å¾—å°†å–ä¸­é—´æ•°çš„è¡Œä¸ºä¸Šå–æ•´ï¼Œå³ `int mid = (left + right + 1) >>> 1;`ã€‚

ï¼ˆæœ¬èŠ‚å®Œï¼‰