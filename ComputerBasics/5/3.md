## ã€ŒåŠ›æ‰£ã€ç¬¬ 15 é¢˜ï¼šä¸‰æ•°ä¹‹å’Œ

- é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/3sum

> ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
> æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
> ç¤ºä¾‹ï¼š
>
> ```
> ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ
> 
> æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
> [
>   [-1, 0, 1],
>   [-1, -1, 2]
> ]
> ```

# LeetCode ç¬¬ 15 é¢˜ï¼š3Sum

> ç»™å®šä¸€ä¸ªåŒ…å« `n` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums`ï¼Œåˆ¤æ–­ `nums` ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
>
> æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

ä¾‹å¦‚, ç»™å®šæ•°ç»„ `nums = [-1, 0, 1, 2, -1, -4]`ï¼Œæ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š

```
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/3sum
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

### æ–¹æ³•ä¸€ï¼šåŒæŒ‡é’ˆ

**æŒ‡é’ˆå¯¹æ’çš„æ€æƒ³åŸºæœ¬éƒ½æ˜¯å‡è€Œæ²»ä¹‹ï¼Œå‡å°‘ä¸€ä¸ªçº§åˆ«æ—¶é—´å¤æ‚åº¦ã€‚**

> **è®²è§£è¦ç‚¹ï¼š**
>
> **1ã€ç‰¹åˆ¤**
>
> **2ã€å‰ªæä¸å»é‡æ“ä½œ**

çŸ¥è¯†ç‚¹ï¼šåŒæŒ‡é’ˆï¼ˆæŒ‡é’ˆå¯¹æ’ï¼‰ã€å»é‡ï¼ˆé¢„æ’åºï¼‰

1ã€å…ˆå›ºå®šèµ·ç‚¹ï¼›

2ã€ç„¶ååœ¨å‰©ä¸‹çš„åŒºé—´é‡Œæ‰¾ä¸¤ä¸ªæ•°ä¹‹å’Œï¼›ï¼ˆç›¸å…³ï¼‰

é¢„æ’åºæœ‰ä¸¤ä¸ªç›®çš„ï¼š

1ã€æœç´¢æ›´å¿«ï¼šLeetCode ç¬¬ 167 é¢˜ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æœç´¢ä¸¤ä¸ªæ•°ä¹‹å’Œï¼Œç”¨æŒ‡é’ˆå¯¹æ’æ›´å¥½ï¼›

2ã€å‰ªæï¼šï¼ˆ1ï¼‰å·¦è¾¹ç•Œåªè¦æ˜¯å¤§äº 0 ç›´æ¥å‡æ‰ï¼›ï¼ˆ2ï¼‰æœ‰é‡å¤çš„å…ƒç´ ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å‡æ‰

è¯´æ˜ï¼š**å¯ä»¥å‰ªæçš„åŸå› ï¼šèµ·å§‹å…ƒç´ ä¸€æ ·ï¼Œå€™é€‰åŒºé—´æ˜¯ä¸Šä¸€ä¸ªå€™é€‰åŒºé—´çš„çœŸå­é›†ï¼Œä½†æ˜¯èƒ½å¤Ÿå¾—åˆ°è§£ï¼Œä¸€å®šæ˜¯ä¸Šä¸€ä¸ªè§£çš„çœŸå­é›†**ã€‚

Java ä»£ç ï¼š

java

```java
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class Solution {

    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> res = new ArrayList<>();
        int len = nums.length;

        // ç‰¹åˆ¤ 1
        if (len < 3) {
            return res;
        }

        // æ’åºæ˜¯å»é‡å¤çš„å‰æ
        Arrays.sort(nums);
        // [0, 1, 2, 3] 4
        for (int i = 0; i < len - 2; i++) {
            // ç‰¹åˆ¤ 2
            if (nums[i] > 0) {
                break;
            }

            // å‰ªæ 1
            if (i > 0 && nums[i] == nums[i - 1]) {
                continue;
            }

            int left = i + 1;
            int right = len - 1;
            // æ³¨æ„ï¼šè¿™é‡Œæ˜¯ä¸¥æ ¼å°äº
            while (left < right) {
                int sum = nums[i] + nums[left] + nums[right];

                if (sum == 0) {
                    List<Integer> cur = new ArrayList<>();
                    cur.add(nums[i]);
                    cur.add(nums[left]);
                    cur.add(nums[right]);
                    res.add(cur);

                    // å‰ªæ 2
                    while (left < right && nums[left + 1] == nums[left]) {
                        left++;
                    }
                    while (left < right && nums[right - 1] == nums[right]) {
                        right--;
                    }

                    left++;
                    right--;

                } else if (sum > 0) {
                    // åé¢çš„æ•°å¤ªå¤§äº†ï¼Œè®©å®ƒå¾€å‰èµ°ä¸€æ­¥è¯•è¯•çœ‹
                    right--;
                } else {
                    // sum < 0ï¼Œ å‰é¢çš„æ•°å¤ªå°äº†ï¼Œè®©å®ƒå¾€åèµ°ä¸€æ­¥è¯•è¯•çœ‹
                    left++;
                }
            }
        }
        return res;
    }

    public static void main(String[] args) {
        int[] nums = {0, 0, 0, 0};
        Solution solution3 = new Solution();
        List<List<Integer>> res = solution3.threeSum(nums);
        res.forEach(System.out::println);
    }
}
```

Python ä»£ç ï¼š





python

```python
from typing import List


class Solution:

    def threeSum(self, nums: List[int]) -> List[List[int]]:
        size = len(nums)
        nums.sort()
        res = []

        for i in range(size - 2):
            if i > 0 and nums[i] == nums[i - 1]:
                continue
            left = i + 1
            right = size - 1
            while right - left >= 1:
                s = nums[i] + nums[left] + nums[right]
                if s > 0:
                    right -= 1
                elif s < 0:
                    left += 1
                else:
                    res.append([nums[i], nums[left], nums[right]])
                    while left < size - 1 and nums[left] == nums[left + 1]:
                        left = left + 1
                    while right > 0 and nums[right] == nums[right - 1]:
                        right = right - 1
                    left += 1
                    right -= 1
        return res
```

æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘2)O(N2)

ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)

### æ–¹æ³•äºŒï¼šä½¿ç”¨å“ˆå¸Œè¡¨åˆ¤æ–­é‡å¤ï¼Œæ¨¡ä»¿ two sum åšï¼Œä»ç„¶è¦æ’åº

Python ä»£ç ï¼š

python

```python
from typing import List


class Solution:

    # æ’åºå¯ä»¥å»æ‰ -4 ä½†æ˜¯ä¸èƒ½æŠŠåé¢é‡å¤çš„ 2 å»æ‰
    # [-4,-4,2,2]
    def threeSum(self, nums: List[int]) -> List[List[int]]:

        size = len(nums)
        if size < 3:
            return []
        nums.sort()

        # ç‰¹åˆ¤
        if nums[0] == nums[-1] == 0:
            return [[0, 0, 0]]

        # åˆ¤é‡
        res = set()
        # æœ€åä¸¤ä¸ªæ•°å°±æ²¡æœ‰å¿…è¦ä½œä¸ºéå†çš„èµ·ç‚¹äº†
        for i in range(size - 2):
            # å› ä¸ºé¢˜ç›®è¦æ±‚ï¼Œç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„
            # è¿™ä¸€æ­¥æ˜¯å¸¸è§çš„å‰ªææ“ä½œ
            if i >= 1 and nums[i] == nums[i - 1]:
                continue
            s = set()

            for j in range(i + 1, size):
                if nums[j] not in s:
                    s.add(-nums[i] - nums[j])
                else:
                    # æ‰¾åˆ°äº†ä¸€ä¸ªè§£
                    res.add((nums[i], nums[j], -nums[i] - nums[j]))
        return list(map(list, res))
```

------

## å‚è€ƒèµ„æ–™

1ã€ç‹å¾·ç¦ï¼šä¸‰æ•°ä¹‹å’Œ

https://leetcode-cn.com/problems/3sum/solution/three-sum-ti-jie-by-wonderful611/

2ã€ç¬¬ 47 é¢˜ä¹Ÿæ˜¯è¿™æ ·ç”¨çš„ã€‚

python

```python
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        if not nums:
            return []
        nums.sort()
        ret = []

        for i in range(len(nums)-1):
            if i>0 and nums[i] == nums[i-1]:
                continue
            left = i + 1
            right = len(nums)-1
            need = 0 - nums[i]
            while left < right:
                res = nums[left] + nums[right]
                if res == need:
                    ret.append([nums[i],nums[left],nums[right]])
                    while left < right and nums[left] == nums[left+1]:
                        left += 1
                    while left < right and nums[right] == nums[right-1]:
                        right -= 1
                    left += 1
                    right -= 1
                elif nums[left] + nums[right] > need:
                    right -= 1
                else:
                    left += 1
        return ret
```