## ã€ŒåŠ›æ‰£ã€ç¬¬ 167 é¢˜ï¼šä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„ï¼ˆç®€å•ï¼‰

é¢˜è§£åœ°å€ï¼š[åŒæŒ‡é’ˆå¯¹æ’ + äºŒåˆ†æ³•ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰](https://www.liwei.party/2017/07/09/leetcode-algo/0167-two-sum-ii-input-array-is-sorted/)ã€‚

è¯´æ˜ï¼šæ–‡æœ¬é¦–å‘åœ¨åŠ›æ‰£çš„é¢˜è§£ç‰ˆå—ï¼Œæ›´æ–°ä¹Ÿä¼šåœ¨ç¬¬ 1 æ—¶é—´åœ¨ä¸Šé¢çš„ç½‘ç«™ä¸­æ›´æ–°ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯ä¸Šé¢çš„æ–‡ç« çš„ä¸€ä¸ªå¿«ç…§ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥çœ‹åˆ°å…¶ä»–ç½‘å‹å¯¹æœ¬æ–‡çš„è¯„è®ºã€‚

ä¼ é€é—¨ï¼š[167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)ã€‚

> ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§å‡åºæ’åˆ— çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚
>
> å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2ã€‚
>
> è¯´æ˜:
>
> è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚
> ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚
> ç¤ºä¾‹:
>
> è¾“å…¥: numbers = [2, 7, 11, 15], target = 9
> è¾“å‡º: [1,2]
> è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚

### ä¾‹é¢˜1ï¼šLeetCode ç¬¬ 167 é¢˜ï¼š[ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted)

ä¼ é€é—¨ï¼š[167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)ã€‚

> ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§**å‡åºæ’åˆ—** çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚
>
> å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2*ã€‚*
>
> **è¯´æ˜:**
>
> - è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚
> - ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: numbers = [2, 7, 11, 15], target = 9
> è¾“å‡º: [1,2]
> è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚
> ```

åˆ†æï¼šçœ‹åˆ°æœ‰åºï¼Œç¬¬ 1 æƒ³åˆ°â€œäºŒåˆ†æŸ¥æ‰¾â€ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é¢˜ï¼Œç”¨â€œæŒ‡é’ˆå¯¹æ’â€æ›´åˆé€‚ã€‚å½“ç„¶ç”¨å“ˆå¸Œè¡¨ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡å“ˆå¸Œè¡¨çš„æ–¹æ³•æ²¡æœ‰ç”¨åˆ°æ•°ç»„çš„æœ‰åºæ€§ã€‚

Python ä»£ç ï¼š

python

```python
class Solution:
    def twoSum(self, numbers, target):
        """
        :type numbers: List[int]
        :type target: int
        :rtype: List[int]
        """
        # æœ‰åºæ•°ç»„ï¼Œindex1 å¿…é¡»å°äº index2ï¼Œç”¨æŒ‡é’ˆå¯¹æ’æ˜¯æœ€åˆé€‚çš„

        size = len(numbers)
        if size < 2:
            return []
        l = 0
        r = size - 1
        while l < r:
            if numbers[l] + numbers[r] == target:
                return [l + 1, r + 1]
            elif numbers[l] + numbers[r] < target:
                l += 1
            else:
                r -= 1
        return []
```

Java ä»£ç ï¼š

java

```java
class Solution {
    public int[] twoSum(int[] numbers, int target) {
        int len = numbers.length;
        int l = 0;
        int r = len - 1;
        while (l < r) {
            int sum = numbers[l] + numbers[r];

            if (sum > target) {
                r--;
            } else if (sum < target) {
                l++;
            } else {
                int[] res = new int[2];
                res[0] = l + 1;
                res[1] = r + 1;
                return res;
            }
        }
        throw  new IllegalArgumentException("è¾“å…¥æ•°æ®æœ‰è¯¯");
    }
}
```

## åŒæŒ‡é’ˆå¯¹æ’ + äºŒåˆ†æ³•ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰

### æ–¹æ³•ä¸€ï¼šæŒ‡é’ˆå¯¹æ’

**æ€è·¯åˆ†æ**ï¼š

è¿™ä¸ªæ€è·¯æˆ‘æ„Ÿè§‰æ¯”è¾ƒâ€œæ˜¾ç„¶â€ï¼Œç”šè‡³è¯´ä¸å‡ºä»€ä¹ˆé“ç†æ¥ã€‚

**å‚è€ƒä»£ç **ï¼š

Python ä»£ç ï¼š

Python

```Python
from typing import List


class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        size = len(numbers)
        left = 0
        right = size - 1
        while left < right:
            if numbers[left] + numbers[right] > target:
                right -= 1
            elif numbers[left] + numbers[right] < target:
                left += 1
            else:
                return [left + 1, right + 1]
```

Java ä»£ç ï¼š

Java

```Java
public class Solution {

    public int[] twoSum(int[] numbers, int target) {
        int left = 0;
        int right = numbers.length - 1;
        while (left < right) {
            int sum = numbers[left] + numbers[right];
            if (sum == target) {
                return new int[]{left + 1, right + 1};
            } else if (sum > target) {
                right--;
            } else {
                left++;
            }
        }
        throw new RuntimeException("åœ¨æ•°ç»„ä¸­æ²¡æœ‰æ‰¾åˆ°è¿™æ ·çš„ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ºæŒ‡å®šå€¼");
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘)O(N)ï¼Œè¿™é‡Œ ğ‘N è¡¨ç¤ºæ•°ç»„ä¸­çš„å…ƒç´ çš„å¤§å°ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªå˜é‡ã€‚

æ—¢ç„¶æ˜¯æœ‰åºæ•°ç»„ï¼Œä¸å¦¨è€ƒè™‘ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚

### æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾

**æ€è·¯åˆ†æ**ï¼š

äºŒåˆ†æŸ¥æ‰¾ï¼Œèµ·ç‚¹å¾—å›ºå®šï¼Œå› æ­¤ï¼Œå¤–é¢è¦å¥—ä¸Šä¸€å±‚å¾ªç¯ã€‚

**å‚è€ƒä»£ç **ï¼š

Python ä»£ç ï¼š

Python

```Python
from typing import List


class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        size = len(numbers)
        for left in range(size - 1):
            right = self.__binary_search(numbers, left + 1, size - 1, target - numbers[left])
            if right != -1:
                return [left + 1, right + 1]

    def __binary_search(self, numbers, left, right, target):
        # åœ¨å­åŒºé—´ [left, right] æ‰¾ target
        while left < right:
            mid = (left + right) >> 1
            if numbers[mid] < target:
                left = mid + 1
            else:
                right = mid
        return left if numbers[left] == target else -1
```

Java ä»£ç ï¼š

Java

```Java
public class Solution {

    public int[] twoSum(int[] numbers, int target) {
        int len = numbers.length;
        // æœ€åä¸€ä¸ªæ•°ä¸ä¼šæˆä¸ºèµ·å§‹çš„æ•°å­—
        for (int left = 0; left < numbers.length - 1; left++) {
            // æŒ¨ä¸ªäºŒåˆ†æŸ¥æ‰¾
            int right = binarySearch(numbers, left + 1, len - 1, target - numbers[left]);
            if (right != -1) {
                return new int[]{left + 1, right + 1};
            }
        }
        throw new RuntimeException("åœ¨æ•°ç»„ä¸­æ²¡æœ‰æ‰¾åˆ°è¿™æ ·çš„ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œä¸ºæŒ‡å®šå€¼");
    }

    public int binarySearch(int[] nums, int left, int right, int target) {
        while (left < right) {
            int mid = (left + right) >>>  1;
            if (nums[mid] < target) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        if (nums[left] == target) {
            return left;
        }
        return -1;
    }

}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘logğ‘)O(Nlogâ¡N)ï¼Œè¿™é‡Œ ğ‘N è¡¨ç¤ºæ•°ç»„ä¸­çš„å…ƒç´ çš„å¤§å°ï¼Œå¤–å±‚å¾ªç¯æ˜¯çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œå†…å±‚å¾ªç¯æ˜¯å¯¹æ•°çº§åˆ«çš„æ—¶é—´å¤æ‚åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°ä¸ªå˜é‡ã€‚

------

### ã€ŒåŠ›æ‰£ã€ ç¬¬ 167 é¢˜ï¼š[ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted)

ä¼ é€é—¨ï¼š[167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)ã€‚

é¢˜è§£ï¼š[åŒæŒ‡é’ˆå¯¹æ’ + äºŒåˆ†æ³•ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/solution/shuang-zhi-zhen-dui-zhuang-er-fen-fa-python-dai-ma/)

> ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§**å‡åºæ’åˆ—** çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚
>
> å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2*ã€‚*
>
> **è¯´æ˜:**
>
> - è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚
> - ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: numbers = [2, 7, 11, 15], target = 9
> è¾“å‡º: [1,2]
> è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚
> ```

åˆ†æï¼šçœ‹åˆ°æœ‰åºï¼Œç¬¬ 1 æƒ³åˆ°ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é¢˜ï¼Œç”¨ã€ŒæŒ‡é’ˆå¯¹æ’ã€æ›´åˆé€‚ã€‚å½“ç„¶ç”¨å“ˆå¸Œè¡¨ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡å“ˆå¸Œè¡¨çš„æ–¹æ³•æ²¡æœ‰ç”¨åˆ°æ•°ç»„çš„æœ‰åºæ€§ã€‚

Python ä»£ç ï¼š

python

```python
class Solution:
    def twoSum(self, numbers, target):
        """
        :type numbers: List[int]
        :type target: int
        :rtype: List[int]
        """
        # æœ‰åºæ•°ç»„ï¼Œindex1 å¿…é¡»å°äº index2ï¼Œç”¨æŒ‡é’ˆå¯¹æ’æ˜¯æœ€åˆé€‚çš„

        size = len(numbers)
        if size < 2:
            return []
        l = 0
        r = size - 1
        while l < r:
            if numbers[l] + numbers[r] == target:
                return [l + 1, r + 1]
            elif numbers[l] + numbers[r] < target:
                l += 1
            else:
                r -= 1
        return []
```

Java ä»£ç ï¼š

java

```java
class Solution {
    public int[] twoSum(int[] numbers, int target) {
        int len = numbers.length;
        int l = 0;
        int r = len - 1;
        while (l < r) {
            int sum = numbers[l] + numbers[r];

            if (sum > target) {
                r--;
            } else if (sum < target) {
                l++;
            } else {
                int[] res = new int[2];
                res[0] = l + 1;
                res[1] = r + 1;
                return res;
            }
        }
        throw  new IllegalArgumentException("è¾“å…¥æ•°æ®æœ‰è¯¯");
    }
}
```

### LeetCode ç¬¬ 167 é¢˜ï¼šä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„

ä¼ é€é—¨ï¼š[167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)ã€‚

> ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§**å‡åºæ’åˆ—** çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚
>
> å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2*ã€‚*
>
> **è¯´æ˜:**
>
> - è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚
> - ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> è¾“å…¥: numbers = [2, 7, 11, 15], target = 9
> è¾“å‡º: [1,2]
> è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚
> ```

åˆ†æï¼šçœ‹åˆ°æœ‰åºï¼Œç¬¬ 1 æƒ³åˆ°â€œäºŒåˆ†æŸ¥æ‰¾â€ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é¢˜ï¼Œç”¨â€œæŒ‡é’ˆå¯¹æ’â€æ›´åˆé€‚ã€‚å½“ç„¶ç”¨å“ˆå¸Œè¡¨ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡å“ˆå¸Œè¡¨çš„æ–¹æ³•æ²¡æœ‰ç”¨åˆ°æ•°ç»„çš„æœ‰åºæ€§ã€‚

Python ä»£ç ï¼š

python

```python
class Solution:
    def twoSum(self, numbers, target):
        """
        :type numbers: List[int]
        :type target: int
        :rtype: List[int]
        """
        # æœ‰åºæ•°ç»„ï¼Œindex1 å¿…é¡»å°äº index2ï¼Œç”¨æŒ‡é’ˆå¯¹æ’æ˜¯æœ€åˆé€‚çš„

        size = len(numbers)
        if size < 2:
            return []
        l = 0
        r = size - 1
        while l < r:
            if numbers[l] + numbers[r] == target:
                return [l + 1, r + 1]
            elif numbers[l] + numbers[r] < target:
                l += 1
            else:
                r -= 1
        return []
```

Java ä»£ç ï¼š

java

```java
class Solution {
    public int[] twoSum(int[] numbers, int target) {
        int len = numbers.length;
        int l = 0;
        int r = len - 1;
        while (l < r) {
            int sum = numbers[l] + numbers[r];

            if (sum > target) {
                r--;
            } else if (sum < target) {
                l++;
            } else {
                int[] res = new int[2];
                res[0] = l + 1;
                res[1] = r + 1;
                return res;
            }
        }
        throw  new IllegalArgumentException("è¾“å…¥æ•°æ®æœ‰è¯¯");
    }
}
```

# LeetCode ç¬¬ 167 é¢˜ï¼šä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„

æˆ‘å†™çš„é¢˜è§£åœ°å€ï¼šhttps://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/solution/shuang-zhi-zhen-dui-zhuang-er-fen-fa-python-dai-ma/

> ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§å‡åºæ’åˆ— çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚
>
> å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2ã€‚
>
> è¯´æ˜:
>
> è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚
> ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚

ç¤ºä¾‹ï¼š

```
è¾“å…¥: numbers = [2, 7, 11, 15], target = 9
è¾“å‡º: [1,2]
è§£é‡Š: 2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚
```

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

> 1ã€åŒæŒ‡é’ˆæ˜¯æš´åŠ›è§£æ³•çš„ä¼˜åŒ–ï¼Œä¼˜åŒ–çš„æ¥æºï¼šåˆ©ç”¨æš´åŠ›åšæ³•çš„å•è°ƒæ€§ï¼›
>
> **2ã€æœ‰æº¢å‡ºçš„é£é™©ã€‚**

### æ–¹æ³•ä¸€ï¼šæš´åŠ›æ±‚è§£



### æ–¹æ³•äºŒï¼šäºŒåˆ†æ³•

> çœ‹åˆ°æœ‰åºï¼Œé¦–å…ˆåˆ°â€œäºŒåˆ†æ³•â€ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é¢˜ï¼Œç”¨â€œæŒ‡é’ˆå¯¹æ’â€æ›´åˆé€‚ã€‚

Python ä»£ç ï¼š

python

```python
from typing import List


class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        size = len(numbers)
        for left in range(size - 1):
            right = self.__binary_search(numbers, left + 1, size - 1, target - numbers[left])
            if right != -1:
                return [left + 1, right + 1]

    def __binary_search(self, numbers, left, right, target):
        # åœ¨å­åŒºé—´ [left, right] æ‰¾ target
        while left < right:
            mid = (left + right) >> 1
            if numbers[mid] < target:
                left = mid + 1
            else:
                right = mid
        return left if numbers[left] == target else -1
```

è¯´æ˜ï¼šè¿™é‡Œä»£ç æœ€å¥½è¦å°è£…ä¸€ä¸‹ã€‚è¿™æ˜¯ä»£ç è§„èŒƒæ€§çš„è¦æ±‚ã€‚

### æ–¹æ³•ä¸‰ï¼šåŒæŒ‡é’ˆï¼ˆè¿™æ˜¯æœ€ç»ˆæè§£æ³•ï¼Œä½†æ˜¯æœ‰ bugï¼‰

åŒæŒ‡é’ˆçš„åˆç†æ€§ï¼š`i` æ˜¯ç›¸å¯¹äº `nums[j]` è€Œè¨€æœ€å°çš„ `i` ï¼Œå› æ­¤ `j` å‘å³çš„æ—¶å€™ï¼Œ`i` åªèƒ½å‘å·¦ã€‚

å› æ­¤ `j` å’Œ `i` æœ€å¤šæšä¸¾ `len` å¯¹ã€‚

> æ³¨æ„ï¼šè¿™é‡ŒåŠ æ³•å¯èƒ½å¯¼è‡´è¶Šç•Œã€‚

> 1ã€å¦‚ä½•åˆ©ç”¨é¢˜ç›®çš„å•è°ƒæ€§ã€‚
>
> 2ã€ç”»ä¸€ä¸ªè¡¨æ ¼ä¸€ç›®äº†ç„¶ã€‚

1ã€`sum > target` çš„æ—¶å€™ï¼Œæ­¤æ—¶çš„ `right` å¯¹åº”çš„ `left` ä»¥åŠ`left + 1` éƒ½ä¸å¯èƒ½æ˜¯è§£ã€‚å› æ­¤æš´åŠ›æ³•çš„æ‰€æœ‰ç»„åˆé‡Œé¢ä¸€ä¸‹å¯ä»¥å‡å»äº†ä¸€è¡Œ ï¼Œå› æ­¤ï¼Œæ­¤æ—¶åªèƒ½æŠŠ `right` å·¦ç§»ï¼ˆå‡è€Œæ²»ä¹‹çš„æ€æƒ³ï¼‰ï¼›

2ã€`sum < target` çš„æ—¶å€™ï¼Œæ­¤æ—¶è™½ç„¶ `left` å’Œ `right` å³ç§»éƒ½å¯èƒ½

Java ä»£ç ï¼š

java

```java
import java.util.Arrays;

public class Solution {

    public int[] twoSum(int[] numbers, int target) {
        int len = numbers.length;
        int left = 0;
        int right = len - 1;
        int sum;

        while (left < right) {
            sum = numbers[left] + numbers[right];
            if (sum == target) {
                return new int[]{left + 1, right + 1};
            } else if (sum > target) {
                right--;
            } else {
                left++;
            }
        }
        return new int[]{-1, -1};
    }
}
```

Python ä»£ç ï¼šä¸¾å‡ºå…·ä½“çš„ä¾‹å­ï¼Œå¾ˆå¤šæ—¶å€™æ€è·¯å°±å‡ºæ¥äº†ã€‚

python

```python
from typing import List


class Solution:
    def twoSum(self, numbers: List[int], target: int) -> List[int]:
        size = len(numbers)
        left = 0
        right = size - 1
        while left < right:
            if numbers[left] + numbers[right] > target:
                right -= 1
            elif numbers[left] + numbers[right] < target:
                left += 1
            else:
                return [left + 1, right + 1]
```