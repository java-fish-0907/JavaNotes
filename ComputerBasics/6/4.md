## ã€Œé“¾è¡¨ã€ä¸“é¢˜ 4ï¼šå¤æ‚çš„ç©¿é’ˆå¼•çº¿

ä¸‹é¢çœ‹ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„é—®é¢˜ã€Œä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„ç»“ç‚¹ã€ã€‚

### ä¾‹1ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 24 é¢˜ï¼šä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„ç»“ç‚¹

ä¼ é€é—¨ï¼šè‹±æ–‡ç½‘å€ï¼š[24. Swap Nodes in Pairs](https://leetcode.com/problems/swap-nodes-in-pairs/description/) ï¼Œä¸­æ–‡ç½‘å€ï¼š[24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode-cn.com/problems/swap-nodes-in-pairs/description/) ã€‚

> ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åçš„é“¾è¡¨ã€‚
>
> **ç¤ºä¾‹:**
>
> ```
> ç»™å®š 1->2->3->4, ä½ åº”è¯¥è¿”å› 2->1->4->3.
> ```
>
> **è¯´æ˜:**
>
> - ä½ çš„ç®—æ³•åªèƒ½ä½¿ç”¨å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚
> - **ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼**ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

åˆ†æï¼šä¸¤ç§æ–¹æ³•ï¼š1ã€ç”¨é€’å½’æ¥åšå°±ç‰¹åˆ«ç®€å•ï¼›2ã€ç©¿é’ˆå¼•çº¿æ¯”è¾ƒéº»çƒ¦ã€‚

è§£æ³•1ï¼šç©¿é’ˆå¼•çº¿åšæ³•ï¼šè®¾è®¡ä»¥ä¸‹ 4 ä¸ªå¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ã€‚
1ã€æˆå¯¹çš„ç»“ç‚¹ 1 ï¼šnode1
2ã€æˆå¯¹çš„ç»“ç‚¹ 2 ï¼šnode2
3ã€æˆå¯¹çš„ç»“ç‚¹ 1 çš„å‰é©±ï¼šp
4ã€æˆå¯¹çš„ç»“ç‚¹ 2 çš„åç»§ï¼šnext

Java ä»£ç ï¼š

java

```java
class ListNode {

    int val;
    ListNode next;

    ListNode(int x) {
        val = x;
    }
}

public class Solution {

    /**
     * äº¤æ¢é“¾è¡¨ä¸­æˆå¯¹çš„å…ƒç´ 
     * ï¼ˆè‡ªå·±æŠŠå›¾ç”»å‡ºæ¥ï¼Œå¯¹äºæŒ‡é’ˆäº¤æ¢çš„è¿‡ç¨‹å°±å¥½ç†è§£äº†ï¼‰
     *
     * @param head
     * @return
     */
    public ListNode swapPairs(ListNode head) {
        ListNode dummyNode = new ListNode(0);

        dummyNode.next = head;
        ListNode p = dummyNode;
        while (p.next != null && p.next.next != null) {
            ListNode node1 = p.next;
            ListNode node2 = node1.next;
            ListNode next = node2.next;

            node1.next = next;
            node2.next = node1;
            p.next = node2;
            p = node1;
        }
        return dummyNode.next;
    }


    public ListNode createLinkedList(int[] arr) {
        ListNode head = new ListNode(arr[0]);
        ListNode current = head;
        for (int i = 1; i < arr.length; i++) {
            current.next = new ListNode(arr[i]);
            current = current.next;
        }
        return head;
    }

    public void printLinkedList(ListNode head) {
        ListNode current = head;
        while (current != null) {
            System.out.printf("%d => ", current.val);
            current = current.next;
        }
        System.out.println("NULL ");
    }

    public static void main(String[] args) {
        int[] arr = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11};
        Solution solution = new Solution();
        ListNode head1 = solution.createLinkedList(arr);
        solution.printLinkedList(head1);
        ListNode reverseHead = solution.swapPairs(head1);
        solution.printLinkedList(reverseHead);
    }
}
```

è¯´æ˜ï¼šä»¥ä¸‹åŠå…¶ä»¥åçš„åŠ¨å›¾å¦‚æœæ²¡æœ‰ç‰¹åˆ«è¯´æ˜ï¼Œéƒ½æ¥è‡ªè¿™ä¸ªä¼Ÿå¤§çš„ GitHub ä»“åº“ï¼šhttps://github.com/MisterBooo/LeetCodeAnimation/blob/master/Readme.mdã€‚



![img](https://camo.githubusercontent.com/e01d0b7be8d7e51bae4135959ce54c1d9b274738/68747470733a2f2f6275636b65742d313235373132363534392e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f32303138313230363136313131352e676966)



è§£æ³•2ï¼šå¦‚æœä½¿ç”¨é€’å½’çš„æ–¹æ³•ï¼Œå°±ç‰¹åˆ«ç®€å•ã€‚

Java ä»£ç ï¼š

java

```java
/**
 * @author liwei
 * @date 18/7/4 ä¸‹åˆ9:42
 */
public class Solution2 {

    public ListNode swapPairs(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode p1 = head;
        ListNode p2 = head.next;
        ListNode newHead = swapPairs(p2.next);
        // ä¸‹é¢è¿™ä¸¤è¡Œä»£ç å¯ä»¥äº¤æ¢
        p1.next = newHead;
        p2.next = p1;
        return p2;
    }

}
```

ä¸‹é¢è¿™æ ·å†™å°±æ›´ç®€å•äº†ï¼š

Java ä»£ç ï¼š





java

```java
public class Solution4 {

    public ListNode swapPairs(ListNode head) {
        if (head == null || head.next == null) {
            return head;
        }
        ListNode first = head;
        ListNode second = head.next;
        first.next = swapPairs(second.next);
        second.next = first;
        return second;
    }

    public static void main(String[] args) {
        // ç»™å®š 1->2->3->4, ä½ åº”è¯¥è¿”å› 2->1->4->3.
        int[] nums = {1, 2, 3, 4, 5};
        ListNode head = new ListNode(nums);
        Solution solution = new Solution();
        ListNode swapPairs = solution.swapPairs(head);
        System.out.println(swapPairs);
    }
}
```

å‚è€ƒèµ„æ–™ï¼šhttps://blog.csdn.net/Koala_Tree/article/details/81476772ã€‚

## ç»ƒä¹ 

### ç»ƒä¹ 1ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 25 é¢˜ï¼škä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨

ä¼ é€é—¨ï¼šè‹±æ–‡ç½‘å€ï¼š[25. Reverse Nodes in k-Group](https://leetcode.com/problems/reverse-nodes-in-k-group/description/) ï¼Œä¸­æ–‡ç½‘å€ï¼š[25. kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode-cn.com/problems/reverse-nodes-in-k-group/description/) ã€‚

> ç»™å‡ºä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ *k* ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œå¹¶è¿”å›ç¿»è½¬åçš„é“¾è¡¨ã€‚
>
> *k* æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯ *k* çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆå°†æœ€åå‰©ä½™èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚
>
> **ç¤ºä¾‹ :**
>
> ç»™å®šè¿™ä¸ªé“¾è¡¨ï¼š`1->2->3->4->5`
>
> å½“ *k* = 2 æ—¶ï¼Œåº”å½“è¿”å›: `2->1->4->3->5`
>
> å½“ *k* = 3 æ—¶ï¼Œåº”å½“è¿”å›: `3->2->1->4->5`
>
> **è¯´æ˜ :**
>
> - ä½ çš„ç®—æ³•åªèƒ½ä½¿ç”¨å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚
> - **ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼**ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

Java ä»£ç ï¼š

java

```java
class ListNode {
    int val;
    ListNode next;

    ListNode(int x) {
        val = x;
    }

    public ListNode(int[] nums) {
        if (nums == null || nums.length == 0) {
            throw new IllegalArgumentException("arr can not be empty");
        }
        this.val = nums[0];
        ListNode curr = this;
        for (int i = 1; i < nums.length; i++) {
            curr.next = new ListNode(nums[i]);
            curr = curr.next;
        }
    }

    @Override
    public String toString() {
        StringBuilder s = new StringBuilder();
        ListNode cur = this;
        while (cur != null) {
            s.append(cur.val + " -> ");
            cur = cur.next;
        }
        s.append("NULL");
        return s.toString();
    }
}

// å‚è€ƒèµ„æ–™ï¼šhttps://blog.csdn.net/weiyongle1996/article/details/78473055

public class Solution {

    public ListNode reverseKGroup(ListNode head, int k) {
        // ä½¿ç”¨é€’å½’å†™æ³•çš„è¯ï¼Œå…ˆè€ƒè™‘ç‰¹æ®Šæƒ…å†µ
        if (head == null || head.next == null || k <= 1) {
            return head;
        }
        // æ¢æµ‹é•¿åº¦çš„ç»“ç‚¹
        ListNode tempNode = head;
        int curK = k;
        while (tempNode != null && curK != 0) {
            curK--;
            tempNode = tempNode.next;
        }
        // å¦‚æœå¤Ÿæ•°äº†ï¼Œå…ˆè€ƒè™‘åè½¬
        if (curK == 0) {
            // ä¸‹é¢å¼€å§‹åè½¬
            ListNode pre = null;
            ListNode curNode = head;
            for (int i = 0; i < k; i++) {
                ListNode nextNode = curNode.next;
                curNode.next = pre;
                pre = curNode;
                curNode = nextNode;
            }
            head.next = reverseKGroup(tempNode, k);
            return pre;
        }
        return head;
    }

    public static void main(String[] args) {
        int[] nums = new int[]{1, 2};
        ListNode head = new ListNode(nums);
        Solution solution = new Solution();
        ListNode reverseKGroup = solution.reverseKGroup(head, 2);
        System.out.println(reverseKGroup);
    }
}
```

### ç»ƒä¹ 2ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 147 é¢˜ï¼šå•é“¾è¡¨çš„æ’å…¥æ’åº

ä¼ é€é—¨ï¼šè‹±æ–‡ç½‘å€ï¼š[147. Insertion Sort List](https://leetcode.com/problems/insertion-sort-list/description/) ï¼Œä¸­æ–‡ç½‘å€ï¼š[147. å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åº](https://leetcode-cn.com/problems/insertion-sort-list/description/) ã€‚

> å¯¹é“¾è¡¨è¿›è¡Œæ’å…¥æ’åºã€‚
>
> 
>
> ![img](https://upload.wikimedia.org/wikipedia/commons/0/0f/Insertion-sort-example-300px.gif)
>
> 
>
> æ’å…¥æ’åºçš„åŠ¨ç”»æ¼”ç¤ºå¦‚ä¸Šã€‚ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥é“¾è¡¨å¯ä»¥è¢«è®¤ä¸ºå·²ç»éƒ¨åˆ†æ’åºï¼ˆç”¨é»‘è‰²è¡¨ç¤ºï¼‰ã€‚
> æ¯æ¬¡è¿­ä»£æ—¶ï¼Œä»è¾“å…¥æ•°æ®ä¸­ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼ˆç”¨çº¢è‰²è¡¨ç¤ºï¼‰ï¼Œå¹¶åŸåœ°å°†å…¶æ’å…¥åˆ°å·²æ’å¥½åºçš„é“¾è¡¨ä¸­ã€‚
>
> **æ’å…¥æ’åºç®—æ³•ï¼š**
>
> 1. æ’å…¥æ’åºæ˜¯è¿­ä»£çš„ï¼Œæ¯æ¬¡åªç§»åŠ¨ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å¯ä»¥å½¢æˆä¸€ä¸ªæœ‰åºçš„è¾“å‡ºåˆ—è¡¨ã€‚
> 2. æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ’å…¥æ’åºåªä»è¾“å…¥æ•°æ®ä¸­ç§»é™¤ä¸€ä¸ªå¾…æ’åºçš„å…ƒç´ ï¼Œæ‰¾åˆ°å®ƒåœ¨åºåˆ—ä¸­é€‚å½“çš„ä½ç½®ï¼Œå¹¶å°†å…¶æ’å…¥ã€‚
> 3. é‡å¤ç›´åˆ°æ‰€æœ‰è¾“å…¥æ•°æ®æ’å…¥å®Œä¸ºæ­¢ã€‚
>
> **ç¤ºä¾‹ 1ï¼š**
>
> ```
> è¾“å…¥: 4->2->1->3
> è¾“å‡º: 1->2->3->4
> ```
>
> **ç¤ºä¾‹ 2ï¼š**
>
> ```
> è¾“å…¥: -1->5->3->4->0
> è¾“å‡º: -1->0->3->4->5
> ```

åˆ†æï¼šè¿™é“é¢˜çš„é¢˜æ„æˆ‘ä»¬æ„Ÿè§‰æœ‰é‚£ä¹ˆäº›è¯¯å¯¼æˆ‘ä»¬çš„æ„æ€ï¼Œæˆ‘ä»¬èƒ½æƒ³åˆ°ä»å¤´å¼€å§‹æ‰¾ç»“ç‚¹åº”è¯¥æ’å…¥çš„ä½ç½®ï¼Œä½†æ„Ÿè§‰è¿™ç§åšæ³•åˆä¸åƒæ’å…¥æ’åºã€‚è§£å†³è¿™ä¸ªé—®é¢˜ä¸è¦å¤ªæ­»æ¿ï¼Œä¸è¦æ€•éº»çƒ¦æˆ‘è§‰å¾—æ˜¯è§£è¿™é“é—®é¢˜çš„å…³é”®ï¼ˆè¿™å¥è¯æ„Ÿè§‰è·Ÿæ²¡è¯´ä¸€ä¸ªæ ·ï¼Œ^_^ï¼‰ã€‚

1. æ’å…¥æ’åºæ¯æ¬¡ä¼šå°†éå†åˆ°çš„ä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°å·²ç»æ’åºçš„éƒ¨åˆ†ï¼›
2. ç†Ÿæ‚‰æ’å…¥æ’åºçš„æœ‹å‹ä»¬éƒ½çŸ¥é“ï¼Œè¿™ç§æ’å…¥è¿‡ç¨‹æ˜¯ä»åå‘å‰çš„ï¼Œä½†æ˜¯å¯¹äºå•é“¾è¡¨æ¥è¯´ï¼Œåªä¿å­˜äº†å½“å‰ç»“ç‚¹åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹çš„ next æŒ‡é’ˆï¼Œå¹¶æ²¡æœ‰ä¿å­˜ä»å½“å‰ç»“ç‚¹åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„ pre æŒ‡é’ˆï¼›
3. æˆ‘ä»¬å°±è¦å˜æ¢æ€è·¯äº†ï¼Œæ¯æ¬¡éƒ½è¦ä»é“¾è¡¨çš„ç¬¬ 1 ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ‰¾åˆ°æ–°éå†çš„èŠ‚ç‚¹é€‚åˆæ’å…¥çš„ä½ç½®ï¼Œè¿›è¡Œç©¿é’ˆå¼•çº¿ï¼›
4. å…·ä½“æ¥è¯´å¯¹äºå•é“¾è¡¨çš„ç¬¬ 1 ä¸ªå…ƒç´ ï¼Œæ¶‰åŠåˆ°å¤´ç»“ç‚¹çš„æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„åšæ³•å¾€å¾€æ˜¯è®¾è®¡ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹ï¼Œä»¥ç®€åŒ–ç¼–ç ã€‚
   ç»¼ä¸Šæ‰€è¿°ï¼Œæƒ³æ¸…æ¥šä¸Šé¢çš„é—®é¢˜ï¼Œå†™å‡ºæ­£ç¡®çš„ä»£ç åº”è¯¥ä¸æ˜¯éš¾äº‹ã€‚

ä¸ºä¸€ä¸ªé“¾è¡¨å®ç°æ’å…¥æ’åºã€‚



![LeetCode ç¬¬ 147 é¢˜ï¼šå•é“¾è¡¨çš„æ’å…¥æ’åº-1](https://liweiwei1419.gitee.io/images/leetcode-solution/147-1.jpg)

**LeetCode ç¬¬ 147 é¢˜ï¼šå•é“¾è¡¨çš„æ’å…¥æ’åº-1**





![LeetCode ç¬¬ 147 é¢˜ï¼šå•é“¾è¡¨çš„æ’å…¥æ’åº-2](https://liweiwei1419.gitee.io/images/leetcode-solution/147-2.jpg)

**LeetCode ç¬¬ 147 é¢˜ï¼šå•é“¾è¡¨çš„æ’å…¥æ’åº-2**



Java ä»£ç ï¼š

java

```java
class ListNode {
    int val;
    ListNode next;

    ListNode(int x) {
        val = x;
    }

    public ListNode(int[] nums) {
        if (nums == null || nums.length == 0) {
            throw new IllegalArgumentException("arr can not be empty");
        }
        this.val = nums[0];
        ListNode curr = this;
        for (int i = 1; i < nums.length; i++) {
            curr.next = new ListNode(nums[i]);
            curr = curr.next;
        }
    }

    @Override
    public String toString() {
        StringBuilder s = new StringBuilder();
        ListNode cur = this;
        while (cur != null) {
            s.append(cur.val + " -> ");
            cur = cur.next;
        }
        s.append("NULL");
        return s.toString();
    }
}

public class Solution {

    public ListNode insertionSortList(ListNode head) {
        // å…ˆå†™æœ€ç‰¹æ®Šçš„æƒ…å†µ
        if (head == null) {
            return null;
        }
        ListNode dummyNode = new ListNode(-1);
        dummyNode.next = head;
        ListNode curNode = head;
        ListNode pre;
        ListNode next;
        while (true) {
            // å¦‚æœéå†ä¸‹å»ï¼Œæ˜¯é¡ºåºæ’åˆ—çš„è¯ï¼Œé‚£æœ€ç®€å•äº†ï¼ŒcurNode æŒ‡é’ˆå‘å‰å°±è¡Œäº†
            // è¿™ä¸€æ­¥æ˜¯ä¸€ä¸ªå¾ªç¯çš„è¿‡ç¨‹
            // æš‚å­˜å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ç»“ç‚¹
            while (curNode.next != null && curNode.val <= curNode.next.val) {
                curNode = curNode.next;
            }
            // ä¸‹é¢é’ˆå¯¹ä¸Šä¸€æ­¥è·³å‡ºå¾ªç¯çš„ä¸¤ä¸ªæ¡ä»¶è¿›è¡Œç‰¹æ®Šå¤„ç†
            if (curNode.next == null) {
                // å¦‚æœåé¢æ²¡æœ‰å…ƒç´ äº†ï¼Œé‚£å°±è¯´æ˜ï¼Œæ­¤æ—¶é“¾è¡¨å·²ç»æœ‰åºï¼Œå¯ä»¥ç»“æŸæˆ‘ä»¬çš„æ’åºé€»è¾‘äº†
                break;
            } else {
                // å¦åˆ™å°±ä¸€å®šæ»¡è¶³ curNode.val > curNode.next.val; ä¸ºçœŸ
                // pre æ‰“å›åˆ°èµ·ç‚¹
                pre = dummyNode;
                next = curNode.next;
                // æŠŠ pre æŒªåˆ°å¯ä»¥æ”¾ç½® next ç»“ç‚¹çš„ä¸Šä¸€ä¸ªä½ç½®
                while (pre.next.val < next.val) {
                    pre = pre.next;
                }
                // ç©¿é’ˆå¼•çº¿çš„ 3 ä¸ªæ­¥éª¤ï¼Œè¯·è§å›¾ https://liweiwei1419.github.io/images/leetcode-solution/147-1.jpg
                // ç©¿é’ˆå¼•çº¿æ­¥éª¤ 1
                curNode.next = next.next;
                // ç©¿é’ˆå¼•çº¿æ­¥éª¤ 2
                next.next = pre.next;
                // ç©¿é’ˆå¼•çº¿æ­¥éª¤ 2
                pre.next = next;
            }
        }
        return dummyNode.next;
    }

    public static void main(String[] args) {
        int[] nums = new int[]{3, 7, 9, 10, 8};
        ListNode head = new ListNode(nums);
        Solution solution = new Solution();
        ListNode insertionSortList = solution.insertionSortList(head);
        System.out.println(insertionSortList);
    }
}
```

ç­‰ä»·å†™æ³•ï¼š

Java ä»£ç ï¼š

java

```java
public class Solution2 {

    public ListNode insertionSortList(ListNode head) {
        if (head == null) {
            return null;
        }
        // è™šæ‹Ÿå¤´ç»“ç‚¹
        ListNode dummyNode = new ListNode(-1);
        ListNode preNode = dummyNode;
        // ç”¨äºéå†çš„æŒ‡é’ˆ
        ListNode curNode = head;
        ListNode next = null;
        // æ²¡æœ‰è¿™ä¸€æ­¥ï¼šdummyNode.next = head;
        while (curNode != null) {
            next = curNode.next;
            // è¿™ä¸€æ­¥æ˜¯æ‰¾åˆ°ä¸€ä¸ªæ­£ç¡®çš„ä½ç½®æ’å…¥ï¼Œåªè¦æ¯” curNode çš„å€¼å°ï¼Œéƒ½åº”è¯¥è·³è¿‡
            // ç›´åˆ°é‡åˆ°ç¬¬ 1 ä¸ªå¤§äºç­‰äºå®ƒçš„å…ƒç´ 
            while (preNode.next != null && preNode.next.val < curNode.val) {
                preNode = preNode.next;
            }
            // åº”è¯¥æŠŠ node æ”¾åœ¨ pre çš„ä¸‹ä¸€ä¸ª
            curNode.next = preNode.next;
            preNode.next = curNode;
            preNode = dummyNode;
            curNode = next;
        }
        return dummyNode.next;
    }

    public static void main(String[] args) {
        int[] nums = new int[]{3, 7, 9, 10, 8};
        ListNode head = new ListNode(nums);
        Solution2 solution2 = new Solution2();
        ListNode insertionSortList = solution2.insertionSortList(head);
        System.out.println(insertionSortList);
    }
}
```

### ç»ƒä¹ 3ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 148 é¢˜ï¼šå•é“¾è¡¨çš„æ’åºï¼Œä½¿ç”¨å½’å¹¶æ’åº

ä¼ é€é—¨ï¼šè‹±æ–‡ç½‘å€ï¼š[148. Sort List](https://leetcode.com/problems/sort-list/description/) ï¼Œä¸­æ–‡ç½‘å€ï¼š[148. æ’åºé“¾è¡¨](https://leetcode-cn.com/problems/sort-list/description/) ã€‚

> åœ¨ *O*(*n* log *n*) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥: 4->2->1->3
> è¾“å‡º: 1->2->3->4
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥: -1->5->3->4->0
> è¾“å‡º: -1->0->3->4->5
> ```

å†™ä¸€ä¸ªæ’åºç®—æ³•ï¼Œç”¨ ğ‘‚(ğ‘›logğ‘›)O(nlogâ¡n) çš„æ—¶é—´å¤æ‚åº¦ä¸ºä¸€ä¸ªé“¾è¡¨è¿›è¡Œæ’åºã€‚

å¯¹äºå•é“¾è¡¨è€Œè¨€ï¼Œå½’å¹¶æ’åºæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

æ€è·¯1ï¼šè‡ªé¡¶å‘ä¸‹çš„å½’å¹¶æ’åºã€‚

æ³¨æ„1ï¼šç‰¹åˆ«æ³¨æ„ä¸‹é¢è¿™ä¹ˆä¸€æ®µï¼š

python

```python
while fast.next and fast.next.next:
    slow = slow.next
    fast = fast.next.next
```

è¯´æ˜ï¼š

- è¿™ä¸ªæ–¹æ³•èµ°åˆ°è¿™é‡Œï¼Œå› ä¸ºæœ‰å‰é¢çš„ç‰¹åˆ¤ï¼Œæ‰€ä»¥è‡³å°‘å¾—æœ‰ 22 ä¸ªç»“ç‚¹ï¼Œæ‰å¯ä»¥æ’åºã€‚è€Œ**å–ä¸­ç‚¹çš„æ“ä½œï¼Œåªæœ‰åœ¨â€œä¸‹ä¸ªç»“ç‚¹â€å’Œâ€œä¸‹ä¸‹ç»“ç‚¹â€**éƒ½å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰èƒ½è¿™ä¹ˆåšï¼›
- çœ‹çœ‹è¿™ä¸ªå¾ªç¯çš„å¾ªç¯ä½“å°±æ˜ç™½äº†ã€‚

æ³¨æ„2ï¼šæ‰¾åˆ°ä¸­é—´ç»“ç‚¹ä»¥åï¼Œè®°å¾—æŠŠé“¾è¡¨â€œä»ä¸­åˆ‡æ–­â€ï¼Œè¿™æ˜¯ç¬¦åˆé€»è¾‘çš„ã€‚

Python ä»£ç ï¼š

python

```python
class Solution:
    def sortList(self, head):
        """
        :type head: ListNode
        :rtype: ListNode
        """

        if head is None or head.next is None:
            return head

        # æ‰¾åˆ°ä¸­ç‚¹

        slow = head
        fast = head
        while fast.next and fast.next.next:
            slow = slow.next
            fast = fast.next.next
        head2 = slow.next
        slow.next = None

        lnode = self.sortList(head)
        rnode = self.sortList(head2)

        return self.__merge_two_sorted_list(lnode, rnode)

    def __merge_two_sorted_list(self, head1, head2):
        if head1 is None:
            return head2
        if head2 is None:
            return head1

        if head1.val < head2.val:
            head1.next = self.__merge_two_sorted_list(head1.next, head2)
            return head1
        else:
            head2.next = self.__merge_two_sorted_list(head1, head2.next)
            return head2
```

å¦ä¸€ç§å†™æ³•ï¼š

ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœæ˜¯

python

```python
while fast and fast.next:
    p = slow
    slow = slow.next
    fast = fast.next.next
```

è¿™ç§å–æ³•ï¼Œ**é‡åˆ°ä¸¤ä¸ªç»“ç‚¹çš„æ—¶å€™ï¼Œslow ä¼šå‘å‰èµ°ä¸€æ­¥ï¼Œä½†æ˜¯æˆªæ–­å¾—åœ¨ slow ç»“ç‚¹ä¹‹å‰ï¼Œå¦åˆ™ä¼šè¿›å…¥æ­»å¾ªç¯ï¼ŒæŒ‰ç…§æˆ‘è¯´çš„ï¼Œç”»ä¸€ä¸ªä¸¤ä¸ªç»“ç‚¹çš„é“¾è¡¨å°±å¾ˆæ¸…æ¥šäº†**ã€‚

é‡åˆ°æ­»å¾ªç¯çš„æ—¶å€™ï¼Œä¸è¦ç€æ€¥ï¼Œè¿˜æœ‰è€å¿ƒ debugï¼Œåˆ†æä»£ç è¿è¡Œæµç¨‹ï¼Œå¾ˆå¤šæ—¶å€™é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ã€‚

Python ä»£ç ï¼š

python

```python
# Definition for singly-linked list.
class ListNode:
    def __init__(self, x):
        self.val = x
        self.next = None


# è¿™é‡Œæœ‰ä¸ªå°é™·é˜±ï¼Œå¦‚æœé‡åˆ°é—®é¢˜ï¼Œä¸è¦ç€æ€¥ï¼Œä»£ç è°ƒè¯•å°±å¥½äº†

class Solution:
    def sortList(self, head):
        """
        :type head: ListNode
        :rtype: ListNode
        """

        if head is None or head.next is None:
            return head

        # æ‰¾åˆ°ä¸­ç‚¹

        slow = head
        fast = head
        while fast and fast.next:
            p = slow
            slow = slow.next
            fast = fast.next.next

        p.next = None

        # print_node_list(head)
        # print_node_list(head2)

        lnode = self.sortList(head)
        rnode = self.sortList(slow)

        return self.__merge_two_sorted_list(lnode, rnode)

    def __merge_two_sorted_list(self, head1, head2):
        if head1 is None:
            return head2
        if head2 is None:
            return head1

        if head1.val < head2.val:
            head1.next = self.__merge_two_sorted_list(head1.next, head2)
            return head1
        else:
            head2.next = self.__merge_two_sorted_list(head1, head2.next)
            return head2


def create_node_list(arr):
    head = ListNode(arr[0])
    cur = head
    for i in range(1, len(arr)):
        cur.next = ListNode(arr[i])
        cur = cur.next
    return head


def print_node_list(head):
    while head:
        print(head.val, '->', end=' ')
        head = head.next
    print('NULL')


if __name__ == '__main__':
    arr = [4, 2, 1, 3]
    head = create_node_list(arr)
    print_node_list(head)

    solution = Solution()
    result = solution.sortList(head)
    print_node_list(result)
```

æ€è·¯2ï¼šè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºã€‚

æˆ‘ä»¥å‰å†™äº†ä¸€ä¸ªç¤ºæ„å›¾ï¼Œå¯ä»¥ç‚¹[è¿™é‡Œ](https://liweiwei1419.github.io/leetcode-solution/leetcode-0148-sort-list/)çœ‹ï¼Œæ€æƒ³è¿˜æ˜¯å¾ˆç®€å•çš„ã€‚

ï¼ˆæœ¬èŠ‚å®Œï¼‰