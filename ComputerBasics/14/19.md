## ã€ŒåŠ›æ‰£ã€ç¬¬ 60 é¢˜ï¼šç¬¬ k ä¸ªæ’åˆ—ï¼ˆä¸­ç­‰ï¼‰

- [é“¾æ¥](https://leetcode-cn.com/problems/permutation-sequence/)
- [é¢˜è§£é“¾æ¥](https://leetcode-cn.com/problems/permutation-sequence/solution/hui-su-jian-zhi-python-dai-ma-java-dai-ma-by-liwei/)

> ç»™å‡ºé›†åˆ `[1, 2, 3, â€¦, n]`ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ ğ‘›!n! ç§æ’åˆ—ã€‚
>
> æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ n = 3 æ—¶, æ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š
>
> 1. `"123"`
> 2. `"132"`
> 3. `"213"`
> 4. `"231"`
> 5. `"312"`
> 6. `"321"`
>
> ç»™å®š `n` å’Œ `k`ï¼Œè¿”å›ç¬¬ `k` ä¸ªæ’åˆ—ã€‚
>
> è¯´æ˜ï¼š
>
> ç»™å®š `n` çš„èŒƒå›´æ˜¯ [1,9][1,9]ã€‚
> ç»™å®š `k` çš„èŒƒå›´æ˜¯[1,ğ‘›!][1,n!]ã€‚
>
> ç¤ºä¾‹ 1ï¼š
>
> ```
> è¾“å…¥: n = 3, k = 3
> è¾“å‡º: "213"
> ```
>
> ç¤ºä¾‹ 2ï¼š
>
> ```
> è¾“å…¥: n = 4, k = 9
> è¾“å‡º: "2314"
> ```

**å‚è€ƒä»£ç  1**ï¼šé˜¶ä¹˜å€¼ç›´æ¥æŸ¥è¡¨å¾—åˆ°ã€‚

Java ä»£ç ï¼š

java

```java
import java.util.ArrayList;
import java.util.List;

public class Solution {

    public String getPermutation(int n, int k) {
        int[] nums = new int[n];
        boolean[] used = new boolean[n];
        for (int i = 0; i < n; i++) {
            nums[i] = i + 1;
            used[i] = false;
        }
        int[] factorial = {1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880};
        List<String> pre = new ArrayList<>();
        return dfs(nums, used, n, k, 0, pre, factorial);
    }

    private String dfs(int[] nums, boolean[] used, int n, int k, int depth, List<String> pre, int[] factorial) {
        if (depth == n) {
            StringBuilder sb = new StringBuilder();
            for (String c : pre) {
                sb.append(c);
            }
            return sb.toString();
        }
        int ps = factorial[n - 1 - depth];
        for (int i = 0; i < n; i++) {
            if (used[i]) {
                continue;
            }
            if (ps < k) {
                k -= ps;
                continue;
            }
            pre.add(nums[i] + "");
            used[i] = true;
            return dfs(nums, used, n, k, depth + 1, pre, factorial);
        }
        // å¦‚æœå‚æ•°æ­£ç¡®çš„è¯ï¼Œä»£ç ä¸ä¼šèµ°åˆ°è¿™é‡Œ
        throw new RuntimeException("å‚æ•°é”™è¯¯");
    }
}
```

Python ä»£ç ï¼š

python

```python
class Solution:

    def getPermutation(self, n: int, k: int) -> str:
        if n == 0:
            return []
        nums = [i + 1 for i in range(n)]
        used = [False for _ in range(n)]
        factorial = [1, 1, 2, 6, 24, 120, 720, 5040, 40320, 362880]
        return self.__dfs(nums, used, n, k, 0, [], factorial)

    def __dfs(self, nums, used, n, k, depth, pre, factorial):
        if depth == n:
            # åœ¨å¶å­ç»“ç‚¹å¤„ç»“ç®—
            return ''.join(pre)
        # åé¢çš„æ•°çš„å…¨æ’åˆ—çš„ä¸ªæ•°
        ps = factorial[n - 1 - depth]
        for i in range(n):
            # å¦‚æœè¿™ä¸ªæ•°ç”¨è¿‡ï¼Œå°±ä¸å†è€ƒè™‘
            if used[i]:
                continue
            # åé¢çš„æ•°çš„å…¨æ’åˆ—çš„ä¸ªæ•°å°äº k çš„æ—¶å€™ï¼Œæ‰§è¡Œå‰ªææ“ä½œ
            if ps < k:
                k -= ps
                continue
            pre.append(str(nums[i]))
            # å› ä¸ºç›´æ¥èµ°åˆ°å¶å­ç»“ç‚¹ï¼Œå› æ­¤çŠ¶æ€ä¸ç”¨æ¢å¤
            used[i] = True
            return self.__dfs(nums, used, n, k, depth + 1, pre, factorial)
```

**å¤æ‚åº¦åˆ†æï¼š**

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘2)O(N2)ï¼Œå›æº¯ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ•°çº§åˆ«çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†å¤§é‡çš„å‰ªææ“ä½œï¼Œæ•…å¯¹äºè§£è¿™é“é—®é¢˜æ˜¯å¯ä»¥æ¥å—çš„ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘)O(N)ï¼Œ`nums`ã€`used`ã€`pre` éƒ½ä¸ ğ‘N ç­‰é•¿ï¼Œ`factorial` æ•°ç»„å°± 1010 ä¸ªæ•°ï¼Œæ˜¯å¸¸æ•°çº§åˆ«çš„ã€‚

### æ–¹æ³•äºŒï¼šåŒé“¾è¡¨æ¨¡æ‹Ÿ

äº‹å®ä¸Šï¼Œä¸Šé¢çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥å¾ªç¯å®ç°ï¼Œåªä¸è¿‡éœ€è¦å€ŸåŠ©ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯æ¬¡é€‰å‡ºä¸€ä¸ªæ•°ï¼Œå°±å°†è¿™ä¸ªæ•°ä»åˆ—è¡¨é‡Œé¢æ‹¿å‡ºã€‚å› ä¸ºè¿™ä¸ªåˆ—è¡¨è¦æ”¯æŒé¢‘ç¹çš„åˆ é™¤æ“ä½œï¼Œå› æ­¤ä½¿ç”¨åŒé“¾è¡¨ï¼Œåœ¨ Java ä¸­ `LinkedList` å°±æ˜¯ä½¿ç”¨åŒé“¾è¡¨å®ç°çš„ã€‚

Java ä»£ç ï¼š

java

```java
import java.util.LinkedList;
import java.util.List;

public class Solution {

    public String getPermutation(int n, int k) {
        // æ³¨æ„ï¼šç›¸å½“äºåœ¨ n ä¸ªæ•°å­—çš„å…¨æ’åˆ—ä¸­æ‰¾åˆ°ç´¢å¼•ä¸º k - 1 çš„é‚£ä¸ªæ•°ï¼Œå› æ­¤ k å…ˆå‡ 1
        k --;

        int[] factorial = new int[n];
        factorial[0] = 1;
        // å…ˆç®—å‡ºæ‰€æœ‰çš„é˜¶ä¹˜å€¼
        for (int i = 1; i < n; i++) {
            factorial[i] = factorial[i - 1] * i;
        }

        // å› ä¸ºè¦é¢‘ç¹åšåˆ é™¤ï¼Œä½¿ç”¨é“¾è¡¨
        List<Integer> nums = new LinkedList<>();
        for (int i = 1; i <= n; i++) {
            nums.add(i);
        }

        StringBuilder stringBuilder = new StringBuilder();

        // i è¡¨ç¤ºå‰©ä½™çš„æ•°å­—ä¸ªæ•°ï¼Œåˆå§‹åŒ–ä¸º n - 1
        for (int i = n - 1; i >= 0; i--) {
            int index = k / factorial[i] ;
            stringBuilder.append(nums.remove(index));
            k -= index * factorial[i];
        }
        return stringBuilder.toString();
    }
}
```