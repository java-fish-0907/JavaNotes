## ã€ŒåŠ›æ‰£ã€ç¬¬ 1080 é¢˜ï¼šæ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹

é¢˜è§£åœ°å€ï¼š[åˆ†æ²»æ³•ã€ååºéå†ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰](https://leetcode-cn.com/problems/insufficient-nodes-in-root-to-leaf-paths/solution/hou-xu-bian-li-python-dai-ma-java-dai-ma-by-liweiw/)ã€‚

è¯´æ˜ï¼šæ–‡æœ¬é¦–å‘åœ¨åŠ›æ‰£çš„é¢˜è§£ç‰ˆå—ï¼Œæ›´æ–°ä¹Ÿä¼šåœ¨ç¬¬ 1 æ—¶é—´åœ¨ä¸Šé¢çš„ç½‘ç«™ä¸­æ›´æ–°ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯ä¸Šé¢çš„æ–‡ç« çš„ä¸€ä¸ªå¿«ç…§ï¼Œæ‚¨å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥çœ‹åˆ°å…¶ä»–ç½‘å‹å¯¹æœ¬æ–‡çš„è¯„è®ºã€‚

ä¼ é€é—¨ï¼š[æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹](https://leetcode-cn.com/problems/insufficient-nodes-in-root-to-leaf-paths/)ã€‚

> ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„æ ¹ rootï¼Œè¯·ä½ è€ƒè™‘å®ƒæ‰€æœ‰ ä»æ ¹åˆ°å¶çš„è·¯å¾„ï¼šä»æ ¹åˆ°ä»»ä½•å¶çš„è·¯å¾„ã€‚ï¼ˆæ‰€è°“ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå°±æ˜¯ä¸€ä¸ªæ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼‰
>
> å‡å¦‚é€šè¿‡èŠ‚ç‚¹ node çš„æ¯ç§å¯èƒ½çš„ â€œæ ¹-å¶â€ è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå…¨éƒ½å°äºç»™å®šçš„ limitï¼Œåˆ™è¯¥èŠ‚ç‚¹è¢«ç§°ä¹‹ä¸ºã€Œä¸è¶³èŠ‚ç‚¹ã€ï¼Œéœ€è¦è¢«åˆ é™¤ã€‚
>
> è¯·ä½ åˆ é™¤æ‰€æœ‰ä¸è¶³èŠ‚ç‚¹ï¼Œå¹¶è¿”å›ç”Ÿæˆçš„äºŒå‰æ ‘çš„æ ¹ã€‚
>
> ç¤ºä¾‹ 1ï¼š
>
> è¾“å…¥ï¼šroot = [1,2,3,4,-99,-99,7,8,9,-99,-99,12,13,-99,14], limit = 1
>
> è¾“å‡ºï¼š[1,2,3,4,null,null,7,8,9,null,14]
> ç¤ºä¾‹ 2ï¼š
>
> è¾“å…¥ï¼šroot = [5,4,8,11,null,17,4,7,1,null,null,5,3], limit = 22
>
> è¾“å‡ºï¼š[5,4,8,11,null,17,4,7,null,null,null,5]
> ç¤ºä¾‹ 3ï¼š
>
> è¾“å…¥ï¼šroot = [5,-6,-6], limit = 0
> è¾“å‡ºï¼š[]
>
> æç¤ºï¼š
>
> ç»™å®šçš„æ ‘æœ‰ 1 åˆ° 5000 ä¸ªèŠ‚ç‚¹
> -10^5 <= node.val <= 10^5
> -10^9 <= limit <= 10^9

### åˆ†æ²»æ³•ã€ååºéå†ï¼ˆPython ä»£ç ã€Java ä»£ç ï¼‰

### é¦–å…ˆè€ƒè™‘ç»“ç‚¹å¦‚ä½•åˆ é™¤

é¦–å…ˆæˆ‘ä»¬è€ƒè™‘å¦‚ä½•åˆ é™¤ç»“ç‚¹çš„é—®é¢˜ã€‚å·²çŸ¥ä¸€ä¸ªäºŒå‰æ ‘ä¸­çš„ç»“ç‚¹è¦è¢«åˆ é™¤ï¼Œæœ‰ä¸¤ç§åŠæ³•ï¼š

1. è‡ªå·±åˆ é™¤è‡ªå·±ï¼›
2. å‘Šè¯‰çˆ¶äº²ç»“ç‚¹ï¼Œè‡ªå·±éœ€è¦ä»äºŒå‰æ ‘ä¸­è¢«åˆ é™¤ã€‚

â€œè‡ªå·±åˆ é™¤è‡ªå·±â€ è®©æˆ‘æƒ³åˆ°äº† â€œå•é“¾è¡¨åˆ é™¤æŸä¸ªç»“ç‚¹â€ï¼Œå¦‚æœè¿™ä¸ªè¦è¢«åˆ é™¤çš„ç»“ç‚¹æ˜¯æœ«å°¾ç»“ç‚¹ï¼Œé‚£è¿˜éº»çƒ¦äº†ã€‚ä¸è¿‡ç¬¬ 2 ç§åŠæ³•â€œå‘Šè¯‰çˆ¶äº²ç»“ç‚¹ï¼Œè‡ªå·±éœ€è¦ä»äºŒå‰æ ‘ä¸­è¢«åˆ é™¤â€ï¼Œå°±å¾ˆç®€å•äº†ï¼Œ**çˆ¶äº²ç»“ç‚¹æ”¶åˆ°å­©å­ç»“ç‚¹è¿™ä¸ªä¿¡å·ä»¥åï¼Œåªè¦æŠŠå¯¹å­©å­ç»“ç‚¹çš„å¼•ç”¨åˆ‡æ–­å³å¯**ã€‚

### å…¶æ¬¡è€ƒè™‘ä½¿ç”¨å“ªä¸€ç§éå†æ–¹å¼

äºŒå‰æ ‘çš„é—®é¢˜ä¸€å®šç¦»ä¸å¼€éå†ï¼Œéå†æœ‰ DFS å’Œ BFSï¼Œæ ¹æ®é¢˜ç›®ä¸­çš„æè¿° â€œè€ƒè™‘å®ƒæ‰€æœ‰ ä»æ ¹åˆ°å¶çš„è·¯å¾„â€ï¼Œå°±çŸ¥é“ä¸èƒ½ç”¨ BFS äº†ï¼Œé‚£ä¹ˆ DFS åˆæœ‰ 3 ç§ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š

1ã€å…ˆåºéå†

ï¼ˆ1ï¼‰å…ˆæ‰§è¡Œå½“å‰ç»“ç‚¹çš„é€»è¾‘ï¼›
ï¼ˆ2ï¼‰å¦‚æœæœ‰å·¦ç»“ç‚¹ï¼Œå°±é€’å½’æ‰§è¡Œå·¦ç»“ç‚¹çš„é€»è¾‘ï¼›
ï¼ˆ3ï¼‰å¦‚æœæœ‰å³ç»“ç‚¹ï¼Œå°±é€’å½’æ‰§è¡Œå³ç»“ç‚¹çš„é€»è¾‘ã€‚

2ã€ä¸­åºéå†

ï¼ˆ1ï¼‰å¦‚æœæœ‰å·¦ç»“ç‚¹ï¼Œå°±é€’å½’æ‰§è¡Œå·¦ç»“ç‚¹çš„é€»è¾‘ï¼›
ï¼ˆ2ï¼‰å…ˆæ‰§è¡Œå½“å‰ç»“ç‚¹çš„é€»è¾‘ï¼›
ï¼ˆ3ï¼‰å¦‚æœæœ‰å³ç»“ç‚¹ï¼Œå°±é€’å½’æ‰§è¡Œå³ç»“ç‚¹çš„é€»è¾‘ã€‚

3ã€ååºéå†

ï¼ˆ1ï¼‰å¦‚æœæœ‰å·¦ç»“ç‚¹ï¼Œå°±é€’å½’æ‰§è¡Œå·¦ç»“ç‚¹çš„é€»è¾‘ï¼›
ï¼ˆ2ï¼‰å¦‚æœæœ‰å³ç»“ç‚¹ï¼Œå°±é€’å½’æ‰§è¡Œå³ç»“ç‚¹çš„é€»è¾‘ï¼›
ï¼ˆ3ï¼‰å…ˆæ‰§è¡Œå½“å‰ç»“ç‚¹çš„é€»è¾‘ã€‚

å†çœ‹çœ‹æˆ‘ä»¬é¦–å…ˆè€ƒè™‘çš„é—®é¢˜ï¼Œâ€œå‘Šè¯‰çˆ¶äº²ç»“ç‚¹ï¼Œè‡ªå·±æ˜¯å¦éœ€è¦ä»äºŒå‰æ ‘ä¸­è¢«åˆ é™¤â€ï¼Œé‚£ä¹ˆ **é¦–å…ˆä¸¤ä¸ªå­ç»“ç‚¹ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰è¦æ¸…æ¥šè‡ªå·±æ˜¯ä¸æ˜¯éœ€è¦è¢«åˆ é™¤**ï¼Œæ˜æ˜¾ä½¿ç”¨ â€œååºéå†â€ã€‚

å› æ­¤ï¼Œ**åˆ é™¤ç»“ç‚¹ï¼ˆä¹Ÿå¯ä»¥ç§°ä¸º â€œå‰ªæâ€ï¼‰çš„è¿‡ç¨‹æ˜¯ä»ä¸‹åˆ°ä¸Šçš„**ã€‚

### æœ€åç¼–ç å®ç°

è¿›è¡Œååºéå†çš„æ—¶å€™ï¼Œè¦å‘Šè¯‰çˆ¶äº²èŠ‚ç‚¹è‡ªå·±æ˜¯å¦éœ€è¦ä»äºŒå‰æ ‘ä¸­åˆ é™¤ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼å°±å¯ä»¥äº†ã€‚è¿™é‡Œç¼–ç è¦æ³¨æ„å‡ ä¸ªç»†èŠ‚ï¼š

1ã€ä½¿ç”¨ Python ç¼–ç çš„æœ‹å‹ï¼Œå°½é‡å°‘ä½¿ç”¨ `not`ï¼Œå¦å®šçš„åˆ¤æ–­å‡ºç°å¤ªå¤šï¼Œæ¯”è¾ƒå®¹æ˜“æŠŠè‡ªå·±ç»•æ™•ï¼Œæˆ‘è¿™ä¸€ç‰ˆä»£ç æ˜¯æ”¹è¿‡å‡ æ¬¡çš„ï¼ŒåŸå…ˆæˆ‘çš„ `__dfs` æ–¹æ³•è®¾ç½®çš„è¿”å›å€¼çš„æ„æ€æ˜¯â€œæ˜¯å¦ä¿ç•™â€ã€‚åæ¥æˆ‘æŠŠè¿”å›å€¼çš„å«ä¹‰æ”¹æˆâ€œæ˜¯å¦åˆ é™¤â€ï¼Œå°±æ˜¯ä¸ºäº†è®©é€»è¾‘ä¸­å°‘ä¸€äº› `not`ï¼›

2ã€å½“ä¸€ä¸ªç»“ç‚¹ä¸æ˜¯å¶å­ç»“ç‚¹çš„æ—¶å€™ï¼Œå®ƒæ˜¯å¦è¢«åˆ é™¤ï¼Œä¹Ÿè¦çœ‹å®ƒçš„å­©å­ç»“ç‚¹ï¼Œ**åªè¦å­©å­ç»“ç‚¹æœ‰ä¸€ä¸ªè¢«ä¿ç•™ï¼Œçˆ¶äº²ç»“ç‚¹å°±ä¸èƒ½è¢«åˆ ï¼Œæ¢å¥è¯è¯´ï¼Œçˆ¶äº²ç»“ç‚¹è¢«åˆ é™¤å½“ä¸”ä»…å½“å®ƒçš„ä¸¤ä¸ªå­©å­ç»“ç‚¹å‡è¢«åˆ é™¤**ï¼›

ï¼ˆæ¸©é¦¨æç¤ºï¼šä¸‹é¢çš„å¹»ç¯ç‰‡ä¸­ï¼Œæœ‰å‡ é¡µä¸Šæœ‰è¾ƒå¤šçš„æ–‡å­—ï¼Œå¯èƒ½éœ€è¦æ‚¨åœç•™ä¸€ä¸‹ï¼Œå¯ä»¥ç‚¹å‡»å³ä¸‹è§’çš„åé€€ â€œ|â—€â€ æˆ–è€…å‰è¿› â€œâ–¶|â€ æŒ‰é’®æ§åˆ¶å¹»ç¯ç‰‡çš„æ’­æ”¾ã€‚ï¼‰



![1080-1.png](https://pic.leetcode-cn.com/bbb86d78566a142c2daa2077ec3c28c9dc3c0829c88c95d20e60aeea6ccb29a9-1080-1.png)

**1080-1.png**

),

![1080-2.png](https://pic.leetcode-cn.com/40229b370a84335b89a845e3f03ce93d9832105787afa6358b2d39b3c3219b24-1080-2.png)

**1080-2.png**

),

![1080-3.png](https://pic.leetcode-cn.com/16d9e881d0ead4da82aeb6c6de9ed5f06f85fe51813000b0d9c7193f7d98dac8-1080-3.png)

**1080-3.png**

),

![1080-4.png](https://pic.leetcode-cn.com/fd03f33eac29352e42bc4673aede9c0122bf41047017c69f427c6a98a4f8f7bc-1080-4.png)

**1080-4.png**

),

![1080-5.png](https://pic.leetcode-cn.com/2adb2be65b0456553104f30d63cc32d97c022965b5736886429a80dcc345978a-1080-5.png)

**1080-5.png**

),

![1080-6.png](https://pic.leetcode-cn.com/0f3df57c61bd6293c46e49f0a230590c4c3d34feb77ddddfb6241f972df3b8f4-1080-6.png)

**1080-6.png**

),

![1080-7.png](https://pic.leetcode-cn.com/d5a0587ac83411d7b969188f963009ee2e4c798756ce3371b87acf3716f1c639-1080-7.png)

**1080-7.png**



3ã€**è¿”å›å€¼çš„å«ä¹‰è®¾ç½®æˆâ€œæ˜¯å¦åˆ é™¤â€çš„å‰æä¸‹ï¼Œå·¦å³å­©å­çš„é»˜è®¤ç­–ç•¥æ˜¯åˆ é™¤ï¼Œå› ä¸ºå½“åªæœ‰ä¸€ä¸ªå­©å­ç»“ç‚¹å­˜åœ¨çš„æ—¶å€™ï¼Œè¿™ä¸ªå­©å­ç»“ç‚¹çš„åˆ é™¤ä¸å¦ç›´æ¥å†³å®šäº†çˆ¶äº²ç»“ç‚¹æ˜¯å¦è¢«åˆ é™¤**ï¼Œé€»è¾‘è¿ç®—ç¬¦ `and` æŠŠä¸å­˜åœ¨çš„é‚£ä¸€è¾¹è®¾ç½®ä¸º `True` ï¼Œå°±ç¬¦åˆè¿™ä¸ªé€»è¾‘ï¼Œä¸å¦¨çœ‹çœ‹çœŸå€¼è¡¨ï¼ŒæŠŠå…¶ä¸­ä¸€åˆ—å…¨éƒ¨è®¾ç½®æˆ `True` ï¼Œ`and` çš„ç»“æœå°±æ­£å¥½å’Œå¦å¤–ä¸€åˆ—æ˜¯ä¸€æ ·çš„ã€‚

| å·¦å­æ ‘æ˜¯å¦è¢«åˆ é™¤ | å³å­æ ‘æ˜¯å¦è¢«åˆ é™¤ | and     | or      |
| :--------------- | :--------------- | :------ | :------ |
| `True`           | `True`           | `True`  | `True`  |
| `True`           | `False`          | `True`  | `False` |
| `False`          | `True`           | `False` | `True`  |
| `False`          | `False`          | `False` | `False` |

å¦‚æœä½ æŠŠ `__dfs` æ–¹æ³•çš„è¿”å›å€¼æ„ä¹‰è®¾ç½®æˆ `æ˜¯å¦ä¿ç•™`ï¼Œä½ å°±å¾—çœ‹ `or` é‚£ä¸€åˆ—ï¼Œå¹¶ä¸”å·¦å³å­©å­çš„é»˜è®¤ç­–ç•¥å°±æ˜¯ä¿ç•™ã€‚

### æ€»ç»“

è¿™é“é¢˜ä½¿ç”¨ååºéå†å®Œæˆï¼Œä½†æ›´æœ¬è´¨ä¸Šçš„ç®—æ³•æ€æƒ³æ˜¯åˆ†æ²»æ³•ï¼š**æŠŠåŸé—®é¢˜æ‹†è§£æˆåŒæ ·ç»“æ„ä¸”è§„æ¨¡æ›´å°çš„å­é—®é¢˜ï¼Œå¾…å­é—®é¢˜å¤„ç†å®Œæˆä»¥åï¼ŒåŸé—®é¢˜å°±å¾—åˆ°äº†è§£å†³**ï¼Œå¤§å®¶æƒ³ä¸€æƒ³æ˜¯ä¸æ˜¯è¿™æ ·ã€‚

ä¸‹é¢å±•ç¤ºäº†ä¸¤ç§ååºéå†çš„è¿”å›å€¼æ„ä¹‰çš„ç¤ºä¾‹ä»£ç ï¼Œè¯·è¯»è€…æ¯”è¾ƒå®ƒä»¬äºŒè€…çš„å·®åˆ«ã€‚

å¦‚æœ `__dfs()` æ–¹æ³•è¿”å›å€¼çš„æ„ä¹‰æ˜¯â€œå½“å‰ç»“ç‚¹æ˜¯å¦è¢«åˆ é™¤â€ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹ã€‚

Python ä»£ç ï¼š

Python

```Python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None

class Solution:

    def __dfs(self, node, s, limit):
        """
        ååºéå†
        :param node: å½“å‰éå†çš„ç»“ç‚¹
        :param s: å½“å‰ç´¯è®¡çš„å’Œ
        :param limit: é¢˜ç›®ä¸­ç»™å‡ºçš„ limit
        :return: æ˜¯å¦è¦åˆ é™¤ node è¿™ä¸ªç»“ç‚¹ï¼ŒTrue è¡¨ç¤ºè¦åˆ é™¤ï¼ŒFalse è¡¨ç¤ºä¸åˆ é™¤
        """
        # å…ˆå†™é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šå¦‚æœå°äº limitï¼Œæ ¹æ®é¢˜æ„ï¼Œè¦åˆ é™¤
        if node.left is None and node.right is None:
            return s + node.val < limit

        # é»˜è®¤ä¸ºå·¦å³ç»“ç‚¹å‡å‰ªæï¼Œæ³¨æ„ï¼šåˆå€¼ä¸èƒ½è®¾ç½®æˆ False
        l_tree_deleted = True
        r_tree_deleted = True

        # å¦‚æœæœ‰å·¦å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å·¦å­æ ‘
        if node.left:
            l_tree_deleted = self.__dfs(node.left, s + node.val, limit)

        # å¦‚æœæœ‰å³å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å³å­æ ‘
        if node.right:
            r_tree_deleted = self.__dfs(node.right, s + node.val, limit)

        # å·¦å³å­æ ‘æ˜¯å¦åˆ é™¤çš„ç»“è®ºå¾—åˆ°äº†ï¼Œç”±è‡ªå·±æ¥æ‰§è¡Œæ˜¯å¦åˆ é™¤å®ƒä»¬
        if l_tree_deleted:
            node.left = None
        if r_tree_deleted:
            node.right = None

        # åªæœ‰å·¦å³å­æ ‘éƒ½è¢«åˆ é™¤äº†ï¼Œè‡ªå·±æ‰æ²¡æœ‰å¿…è¦ä¿ç•™
        return l_tree_deleted and r_tree_deleted

    def sufficientSubset(self, root: TreeNode, limit: int) -> TreeNode:
        root_deleted = self.__dfs(root, 0, limit)
        if root_deleted:
            return None
        return root
```

Java ä»£ç ï¼š

Java

```Java
public class Solution2 {

    /**
     * @param node
     * @param s
     * @param limit
     * @return è¿”å› node ç»“ç‚¹æ˜¯å¦è¢«åˆ é™¤ï¼ˆæ³¨æ„ï¼šè¿™ä¸ªè¿”å›å€¼çš„æ„ä¹‰ï¼Œç›´æ¥å½±å“æ•´ä¸ªé€»è¾‘ã€‚ï¼‰
     */
    private Boolean dfs(TreeNode node, int s, int limit) {
        if (node.left == null && node.right == null) {
            return s + node.val < limit;
        }

        // æ³¨æ„ï¼šå¦‚æœ dfs çš„è¿”å›å€¼çš„æ„ä¹‰æ˜¯è¿™ä¸ªç»“ç‚¹æ˜¯å¦è¢«åˆ é™¤ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼åº”è¯¥è®¾ç½®ä¸º true
        boolean lTreeDeleted = true;
        boolean rTreeDeleted = true;

        // å¦‚æœæœ‰å·¦å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å·¦å­æ ‘
        if (node.left != null) {
            lTreeDeleted = dfs(node.left, s + node.val, limit);
        }
        // å¦‚æœæœ‰å³å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å³å­æ ‘
        if (node.right != null) {
            rTreeDeleted = dfs(node.right, s + node.val, limit);
        }

        // å·¦å³å­æ ‘æ˜¯å¦ä¿ç•™çš„ç»“è®ºå¾—åˆ°äº†ï¼Œç”±è‡ªå·±æ¥æ‰§è¡Œæ˜¯å¦åˆ é™¤å®ƒä»¬
        if (lTreeDeleted) {
            node.left = null;
        }
        if (rTreeDeleted) {
            node.right = null;
        }

        // åªæœ‰å·¦å³å­æ ‘éƒ½è¢«åˆ é™¤äº†ï¼Œè‡ªå·±æ‰æ²¡æœ‰å¿…è¦ä¿ç•™
        return lTreeDeleted && rTreeDeleted;
    }

    public TreeNode sufficientSubset(TreeNode root, int limit) {
        boolean rootDeleted = dfs(root, 0, limit);
        if (rootDeleted) {
            return null;
        }
        return root;
    }
}
```

å¦‚æœ `__dfs()` æ–¹æ³•è¿”å›å€¼çš„æ„ä¹‰æ˜¯â€œå½“å‰ç»“ç‚¹æ˜¯å¦è¢«ä¿ç•™â€ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹ã€‚

Python ä»£ç ï¼š

Python

```Python
class TreeNode:
    def __init__(self, x):
        self.val = x
        self.left = None
        self.right = None


# ç®—æ³•æ€æƒ³ï¼šåˆ†æ²»æ³•
# ååºéå†ï¼šdfs çš„è¿”å›å€¼æ˜¯ï¼šæ˜¯å¦ä¿ç•™è¿™ä¸ªèŠ‚ç‚¹

class Solution:
    def __dfs(self, node, s, limit):
        """
        ååºéå†
        :param node: å½“å‰éå†çš„ç»“ç‚¹
        :param s: å½“å‰ç´¯è®¡çš„å’Œ
        :param limit: é¢˜ç›®ä¸­ç»™å‡ºçš„ limit
        :return: æ˜¯å¦è¦ä¿ç•™ node è¿™ä¸ªç»“ç‚¹ï¼ŒTrue è¡¨ç¤ºè¦ä¿ç•™ï¼ŒFalse è¡¨ç¤ºä¸ä¿ç•™
        """
        # å…ˆå†™é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼šå¦‚æœå¤§äºç­‰äº limitï¼Œæ ¹æ®é¢˜æ„ï¼Œè¦ä¿ç•™
        if node.left is None and node.right is None:
            return node.val + s >= limit

        # é»˜è®¤ä¸ºå·¦å³ç»“ç‚¹å‡å‰ªæ
        # æ³¨æ„ï¼šåˆå€¼ä¸èƒ½è®¾ç½®æˆ True
        # å› ä¸ºï¼Œå½“å·¦å³å­æ ‘åªæœ‰ä¸€ä¸ªå­˜åœ¨çš„æ—¶å€™ï¼Œè¿™ä¸ªå­æ ‘çš„é€»è¾‘å€¼ç›´æ¥å†³å®šäº†çˆ¶ç»“ç‚¹æ˜¯å¦è¢«ä¿ç•™
        ltree_saved = False
        rtree_saved = False

        # å¦‚æœæœ‰å·¦å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å·¦å­æ ‘
        if node.left:
            ltree_saved = self.__dfs(node.left, s + node.val, limit)
        # å¦‚æœæœ‰å³å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å³å­æ ‘
        if node.right:
            rtree_saved = self.__dfs(node.right, s + node.val, limit)

        # å·¦å³å­æ ‘æ˜¯å¦ä¿ç•™çš„ç»“è®ºå¾—åˆ°äº†ï¼Œç”±è‡ªå·±æ¥æ‰§è¡Œæ˜¯å¦ä¿ç•™å®ƒä»¬
        if not ltree_saved:
            node.left = None
        if not rtree_saved:
            node.right = None

        # åªè¦å·¦å³ç»“ç‚¹æœ‰ä¸€ä¸ªè¢«ä¿ç•™ï¼Œè¿™ä¸ªç»“ç‚¹å°±å¾—è¢«ä¿ç•™
        return ltree_saved or rtree_saved

    def sufficientSubset(self, root: TreeNode, limit: int) -> TreeNode:
        root_saved = self.__dfs(root, 0, limit)
        if not root_saved:
            return None
        return root
```

Java ä»£ç ï¼š

Java

```Java
class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;

    TreeNode(int x) {
        val = x;
    }
}

public class Solution {

    /**
     * @param node
     * @param s
     * @param limit
     * @return è¿”å› node ç»“ç‚¹æ˜¯å¦è¢«ä¿ç•™ï¼ˆæ³¨æ„ï¼šè¿™ä¸ªè¿”å›å€¼çš„æ„ä¹‰ï¼Œç›´æ¥å½±å“æ•´ä¸ªé€»è¾‘ã€‚ï¼‰
     */
    private Boolean dfs(TreeNode node, int s, int limit) {
        if (node.left == null && node.right == null) {
            return s + node.val >= limit;
        }

        // æ³¨æ„ï¼šå¦‚æœ dfs çš„è¿”å›å€¼çš„æ„ä¹‰æ˜¯è¿™ä¸ªç»“ç‚¹æ˜¯å¦è¢«ä¿ç•™ï¼Œå®ƒä»¬çš„é»˜è®¤å€¼åº”è¯¥è®¾ç½®ä¸º false
        boolean ltree_saved = false;
        boolean rtree_saved = false;

        // å¦‚æœæœ‰å·¦å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å·¦å­æ ‘
        if (node.left != null) {
            ltree_saved = dfs(node.left, s + node.val, limit);
        }

        // å¦‚æœæœ‰å³å­æ ‘ï¼Œå°±å…ˆé€’å½’å¤„ç†å³å­æ ‘
        if (node.right != null) {
            rtree_saved = dfs(node.right, s + node.val, limit);
        }

        // å·¦å³å­æ ‘æ˜¯å¦ä¿ç•™çš„ç»“è®ºå¾—åˆ°äº†ï¼Œç”±è‡ªå·±æ¥æ‰§è¡Œæ˜¯å¦åˆ é™¤å®ƒä»¬
        if (!ltree_saved) {
            node.left = null;
        }

        if (!rtree_saved) {
            node.right = null;
        }

        // å·¦å³å­æ ‘æœ‰ä¸€é¢—è¢«ä¿ç•™ï¼Œè‡ªå·±å°±åº”è¯¥è¢«ä¿ç•™
        return ltree_saved || rtree_saved;
    }

    public TreeNode sufficientSubset(TreeNode root, int limit) {
        boolean root_saved = dfs(root, 0, limit);
        if (!root_saved) {
            return null;
        }
        return root;
    }
}
```

**å¤æ‚åº¦åˆ†æ**ï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šğ‘‚(ğ‘)O(N)ï¼Œğ‘N ä¸ºäºŒå‰æ ‘ç»“ç‚¹çš„ä¸ªæ•°ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šğ‘‚(1)O(1)ã€‚